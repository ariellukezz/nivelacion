import{A as B}from"./LayoutSupervisor-f3ddcd35.js";import{o as N,c as E,n as G,u as F,r as i,j as b,a as t,b as l,w as o,F as j,Z as H,e as a,t as y,l as S,h as w}from"./app-67c51190.js";import{b as P,s as Y,a as c}from"./column.esm-bab9c357.js";import{b as Z,a as p,c as J,s as Q}from"./TopMenu-a9feaa5e.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-73420b38.js";var L={name:"Textarea",emits:["update:modelValue"],props:{modelValue:null,autoResize:Boolean},mounted(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize(){const r=window.getComputedStyle(this.$el);this.$el.style.height="auto",this.$el.style.height=`calc(${r.borderTopWidth} + ${r.borderBottomWidth} + ${this.$el.scrollHeight}px)`,parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput(r){this.autoResize&&this.resize(),this.$emit("update:modelValue",r.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const W=["value"];function q(r,v,O,n,d,A){return N(),E("textarea",{class:G(["p-inputtextarea p-inputtext p-component",{"p-filled":A.filled,"p-inputtextarea-resizable ":O.autoResize}]),value:O.modelValue,onInput:v[0]||(v[0]=(...h)=>A.onInput&&A.onInput(...h))},null,42,W)}function K(r,v){v===void 0&&(v={});var O=v.insertAt;if(!(!r||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css",O==="top"&&n.firstChild?n.insertBefore(d,n.firstChild):n.appendChild(d),d.styleSheet?d.styleSheet.cssText=r:d.appendChild(document.createTextNode(r))}}var X=`
.p-inputtextarea-resizable {
    overflow: hidden;
    resize: none;
}
.p-fluid .p-inputtextarea {
    width: 100%;
}
`;K(X);L.render=q;const ee={class:"flex justify-between"},le={class:"flex",style:{width:"100%","justify-content":"space-between"}},ae={class:"mb-3",style:{width:"240px"}},te={class:"flex align-items-center",style:{width:"400px","font-size":"0.9rem","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},se={class:"flex",style:{width:"100%","justify-content":"space-between"}},ie={class:"mb-3",style:{width:"240px"}},oe={class:"flex align-items-center",style:{width:"400px","font-size":"0.9rem","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},ne={class:"flex",style:{width:"100%","justify-content":"space-between"}},de={class:"mb-3",style:{width:"240px"}},ue={class:"flex align-items-center",style:{width:"400px","font-size":"0.9rem","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},re={class:"p-input-icon-left"},Ie=a("i",{class:"pi pi-search"},null,-1),ce={class:"mt-3"},pe=a("i",{class:"pi pi-download",style:{color:"green"}},null,-1),ve={class:"flex"},Ae={class:"mr-2"},Ne={class:"flex"},Oe={class:"mr-2"},he={key:0},be={key:1},me={key:2},Ee={class:"mr-2"},Ce=a("div",null,null,-1),fe={class:"w-full"},Ue={class:"flex justify-end"},xe={__name:"asignacion",setup(r){const v=F(),O=(u,s,e)=>{v.add({severity:u,summary:s,detail:e,life:3e3})},n=i(!1),d=i(1),A=i(null),h=i(null),C=i(null),f=i(null),_=i(null),x=i(0),T=i([]),g=i(10),M=i([{value:"2024-I",label:"2024-I"},{value:"2024-II",label:"2024-II"}]),D=i([{value:"Dictantes",label:"Dictantes"},{value:"Informe",label:"Informe"},{value:"Plan",label:"Plan"},{value:"Resolucion",label:"Resolucion"},{value:"Otro",label:"Otro"}]);i([{value:1,label:"Aceptado"},{value:0,label:"Rechazado"},{value:null,label:"Pendiente"}]);const I=async()=>{let u=await axios.post("get-documentos?page="+d.value,{term:A.value,paginashoja:g.value,programa:h.value,periodo:C.value,tipo:f.value,aceptado:_.value});T.value=u.data.datos.data,x.value=u.data.datos.total},V=u=>{window.open("../"+u,"_blank")},m=i({}),z=async()=>{await axios.post("observar-documento",m.value),I(),O("info","DOCUMENTO OBSERVADO",""),n.value=!1,m.value={}},R=async u=>{await axios.post("cambiar-estado-documento",u),I(),O("info","ESTADO MODIFICADO","")},$=u=>{n.value=!0,m.value=u};b(A,()=>{I()}),b(h,()=>{I()}),b(C,()=>{I()}),b(f,()=>{I()}),b(_,()=>{I()}),b(g,()=>{I()});const k=i([{value:1,label:"INGENIERIA AGRONOMICA - PUNO"},{value:2,label:"INGENIERIA AGROINDUSTRIAL - PUNO"},{value:3,label:"INGENIERIA TOPOGRAFICA Y AGRIMENSURA - PUNO"},{value:4,label:"MEDICINA VETERINARIA Y ZOOTECNIA - PUNO"},{value:5,label:"INGENIERIA ECONOMICA - PUNO"},{value:6,label:"CIENCIAS CONTABLES - PUNO"},{value:7,label:"ADMINISTRACION - PUNO"},{value:8,label:"TRABAJO SOCIAL - PUNO"},{value:9,label:"ENFERMERIA - PUNO"},{value:10,label:"INGENIERIA DE MINAS - PUNO"},{value:11,label:"HUMANIDADES - PUNO"},{value:12,label:"SOCIOLOGIA - PUNO"},{value:13,label:"TURISMO - PUNO"},{value:14,label:"ANTROPOLOGIA - PUNO"},{value:15,label:"CIENCIAS DE LA COMUNICACION SOCIAL - PUNO"},{value:16,label:"ARTE: ARTES PLASTICAS - PUNO"},{value:17,label:"ARTE: MUSICA - PUNO"},{value:18,label:"ARTE: DANZA - PUNO"},{value:19,label:"BIOLOGIA: ECOLOGIA - PUNO"},{value:20,label:"BIOLOGIA: MICROBIOLOGIA Y LABORATORIO CLINICO - PUNO"},{value:21,label:"BIOLOGIA: PESQUERIA - PUNO"},{value:22,label:"EDUC. SEC.: CIENCIA, TECNOLOGIA Y AMBIENTE - PUNO"},{value:23,label:"EDUC. SEC.: CIENCIAS SOCIALES - PUNO"},{value:24,label:"EDUC. SEC.: LIT. PSICOLOGIA Y FILOSOFIA - PUNO"},{value:25,label:"EDUC. SEC.: MATEMATICA, FISICA, COMP. E INFORMATICA - PUNO"},{value:26,label:"EDUCACION PRIMARIA - PUNO"},{value:27,label:"EDUCACION INICIAL - PUNO"},{value:28,label:"EDUCACION FISICA - PUNO"},{value:29,label:"INGENIERIA ESTADISTICA E INFORMATICA - PUNO"},{value:30,label:"DERECHO - PUNO"},{value:31,label:"INGENIERIA QUIMICA - PUNO"},{value:32,label:"ODONTOLOGIA - PUNO"},{value:33,label:"NUTRICION HUMANA - PUNO"},{value:34,label:"INGENIERIA GEOLOGICA - PUNO"},{value:35,label:"INGENIERIA METALURGICA - PUNO"},{value:36,label:"INGENIERIA CIVIL - PUNO"},{value:37,label:"ARQUITECTURA Y URBANISMO - PUNO"},{value:38,label:"CIENCIAS FISICO MATEMATICAS: FISICA - PUNO"},{value:39,label:"CIENCIAS FISICO MATEMATICAS: MATEMATICAS - PUNO"},{value:40,label:"INGENIERIA AGRICOLA - PUNO"},{value:41,label:"MEDICINA HUMANA - PUNO"},{value:42,label:"INGENIERIA MECANICA ELECTRICA - PUNO"},{value:43,label:"INGENIERIA ELECTRONICA - PUNO"},{value:44,label:"INGENIERIA DE SISTEMAS - PUNO"},{value:45,label:"PSICOLOGIA - PUNO"},{value:46,label:"INGENIERIA ECONOMICA - AZANGARO"},{value:47,label:"INGENIERIA DE MINAS - AZANGARO"},{value:48,label:"INGENIERIA TELECOMUNICACIONES - AZANGARO"},{value:49,label:"CIENCIAS CONTABLES - JULI"},{value:50,label:"ARQUITECTURA Y URBANISMO - JULI"},{value:51,label:"INGENIERIA AGROINDUSTRIAL - JULI"}]);return I(),(u,s)=>(N(),E(j,null,[t(l(H),{title:"Documentos"}),t(B,null,{default:o(()=>[a("div",ee,[a("div",le,[a("div",ae,[t(l(P),{modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=e=>h.value=e),options:k.value,filter:"",optionLabel:"label",optionValue:"value",placeholder:"Seleccione escuela profesional",style:{width:"100%"},class:"w-full md:w-11rem"},{option:o(e=>[a("div",te,[a("div",null,y(e.option.label),1)])]),_:1},8,["modelValue","options"])])]),a("div",se,[a("div",ie,[t(l(P),{modelValue:C.value,"onUpdate:modelValue":s[1]||(s[1]=e=>C.value=e),options:M.value,filter:"",optionLabel:"label",optionValue:"value",placeholder:"Seleccione periodo",style:{width:"100%"},class:"w-full md:w-11rem"},{option:o(e=>[a("div",oe,[a("div",null,y(e.option.label),1)])]),_:1},8,["modelValue","options"])])]),a("div",ne,[a("div",de,[t(l(P),{modelValue:f.value,"onUpdate:modelValue":s[2]||(s[2]=e=>f.value=e),options:D.value,filter:"",optionLabel:"label",optionValue:"value",placeholder:"Seleccione tipo de documento",style:{width:"100%"},class:"w-full md:w-11rem"},{option:o(e=>[a("div",ue,[a("div",null,y(e.option.label),1)])]),_:1},8,["modelValue","options"])])]),a("span",re,[Ie,t(l(Z),{modelValue:A.value,"onUpdate:modelValue":s[3]||(s[3]=e=>A.value=e),placeholder:"Search"},null,8,["modelValue"])])]),a("div",ce,[t(l(Y),{showGridlines:!1,value:T.value,paginator:"",rows:10,totalRecords:x.value,rowsPerPageOptions:[10,20,50],currentPage:d.value,class:G("p-datatable-sm"),tableStyle:"min-width: 50rem",style:{"font-size":".9rem"}},{default:o(()=>[t(l(c),{field:"periodo",header:"Periodo"}),t(l(c),{field:"tipo",header:"TIPO"}),t(l(c),{field:"escuela",header:"ESCUELA PROFESIONAL"}),t(l(c),{field:"fecha_subida",header:"FECHA"}),t(l(c),{field:"username",header:"USUARIO"}),t(l(c),{field:"url",header:"Ver Documento",style:{"min-width":"12rem"}},{body:o(({data:e})=>[t(l(p),{label:"Link",onClick:U=>V(e.url),link:""},{default:o(()=>[pe]),_:2},1032,["onClick"])]),_:1}),t(l(c),{field:"id_programa",header:"Estado",width:"90px"},{body:o(({data:e})=>[a("div",ve,[a("div",Ae,[e.aceptado===1?(N(),S(l(p),{key:0,severity:"success",label:"Aceptado","aria-label":"Submit",size:"small",style:{width:"90px",height:"25px"}})):e.aceptado===0?(N(),S(l(p),{key:1,severity:"danger",label:"Rechazado","aria-label":"Submit",size:"small",style:{width:"90px",height:"25px"}})):(N(),S(l(p),{key:2,severity:"secondary",label:"Pendiente","aria-label":"Submit",size:"small",style:{width:"90px",height:"25px"}}))])])]),_:1}),t(l(c),{header:"Observaciones"},{body:o(({data:e})=>[a("div",null,y(e.obser),1)]),_:1}),t(l(c),{field:"id_programa",header:"Acciones",width:"90px"},{body:o(({data:e})=>[a("div",Ne,[a("div",Oe,[e.aceptado==1?(N(),E("div",he,[t(l(p),{severity:"success",icon:"pi pi-check","aria-label":"Submit",onClick:U=>R(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])):w("",!0),e.aceptado==0?(N(),E("div",be,[t(l(p),{severity:"danger",icon:"pi pi-times","aria-label":"Submit",onClick:U=>R(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])):w("",!0),e.aceptado==null?(N(),E("div",me,[t(l(p),{severity:"secondary",icon:"pi pi-spinner",label:"",onClick:U=>R(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])):w("",!0)]),a("div",Ee,[t(l(p),{class:"secondary",icon:"pi pi-pencil","aria-label":"Submit",onClick:U=>$(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])])]),_:1})]),_:1},8,["value","totalRecords","currentPage"]),Ce]),t(l(J),{visible:n.value,"onUpdate:visible":s[6]||(s[6]=e=>n.value=e),modal:"",header:"ObservaciÃ³n",style:{width:"25rem"}},{footer:o(()=>[a("div",Ue,[t(l(p),{icon:"pi pi-save",label:"Observar",severity:"success","aria-label":"Submit",onClick:s[5]||(s[5]=e=>z()),size:"small",style:{height:"25px"}})])]),default:o(()=>[a("div",fe,[a("div",null,[t(l(L),{modelValue:m.value.obser,"onUpdate:modelValue":s[4]||(s[4]=e=>m.value.obser=e),style:{width:"100%"},variant:"filled",rows:"6"},null,8,["modelValue"])])])]),_:1},8,["visible"]),t(l(Q))]),_:1})],64))}};export{xe as default};
