import{A as H}from"./AuthenticatedLayout-62ea568a.js";import{u as Y,g as J,r as d,h as w,c as p,a as o,b as s,w as n,F as k,o as r,Z as P,d as l,n as Z,k as q,f as V,t as h,j as Q}from"./app-ace91dd0.js";import{a as f,b as c,s as K,c as W}from"./TopMenu-20953b25.js";import{s as X,a as v}from"./column.esm-1bcda5c6.js";import{s as ee,a as le}from"./confirmpopup.esm-b82f8e1b.js";import{s as b}from"./radiobutton.esm-6ce5028e.js";import{s as N}from"./calendar.esm-81b3432e.js";import{s as D}from"./tag.esm-154ab0c5.js";import{s as te,a as T}from"./tabpanel.esm-b3e24073.js";import{s as j}from"./checkbox.esm-d0fc53df.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./basecomponent.esm-1f5d966a.js";import"./index.esm-f9393c2c.js";const ae={class:"bg-white shadow-xs p-4",style:{height:"calc(100vh - 110px)","font-family":"Arial, Helvetica, sans-serif"}},oe={class:"flex",style:{"justify-content":"space-between"}},se={class:"p-input-icon-left"},ie=l("i",{class:"pi pi-search"},null,-1),de={class:"card"},ne=l("div",{class:"flex justify-content-center mb-4"},null,-1),ue={class:"flex",style:{"justify-content":"flex-start"}},re={class:"flex",style:{"justify-content":"center"}},ce={key:0},ve={key:1},me={class:"flex"},pe={class:"mr-2"},_e={style:{}},he={class:"flex mt-0 mb-3 align-items-center",style:{"justify-content":"flex-end"}},fe={class:"flex flex-wrap mr-0"},xe=l("div",{class:"mr-2"},[l("label",null,"Tipo doc ")],-1),ye={class:"flex"},be={class:"flex align-items-center mr-2"},ge=l("label",{for:"ingredient1",class:"ml-2"},"DNI",-1),we={class:"flex align-items-center"},Ve=l("label",{for:"ingredient2",class:"ml-2"},"C. Ext",-1),Ce={class:"flex flex-wrap mr-0"},Ae=l("div",{class:"mr-2"},[l("label",null,"Sexo ")],-1),Ie={class:"flex"},Ee={class:"flex align-items-center mr-2"},Ue=l("label",{for:"ingredient1",class:"ml-2"},"M",-1),ke={class:"flex align-items-center"},Ne=l("label",{for:"ingredient2",class:"ml-2"},"F",-1),De={class:"mr-3"},Te=l("label",null,"Estado",-1),je={class:"flex",style:{width:"100%","justify-content":"space-between"}},ze={class:"mb-2",style:{width:"48%"}},$e=l("div",null,[l("label",null,"Nro documento")],-1),Re={class:"mb-2",style:{width:"48%"}},Se=l("div",null,[l("label",null,"Nombres")],-1),Me={class:"flex",style:{width:"100%","justify-content":"space-between"}},Le={class:"mb-2",style:{width:"48%"}},Oe=l("div",null,[l("label",null,"Primer apellido")],-1),Ge={class:"mb-2",style:{width:"48%"}},Be=l("div",null,[l("label",null,"Segundo apellido")],-1),Fe={class:"flex",style:{width:"100%","justify-content":"space-between"}},He={class:"mb-2",style:{width:"23%"}},Ye=l("div",null,[l("label",null,"Celular")],-1),Je={class:"mb-2",style:{width:"73%"}},Pe=l("div",null,[l("label",null,"Correo")],-1),Ze={class:"flex",style:{width:"100%","justify-content":"space-between","margin-bottom":"-20px"}},qe={class:"",style:{width:"100%"}},Qe=l("div",null,[l("label",null,"Dirección")],-1),Ke={style:{height:"340px"}},We={class:"flex mt-5",style:{width:"100%","justify-content":"space-between","margin-bottom":"-20px"}},Xe={class:"",style:{width:"100%"}},el=l("div",{class:"mb-2"},[l("h2",null,"Habilidades")],-1),ll={style:{"column-count":"2"}},tl={key:0,class:"flex"},al={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},ol=["for"],sl={key:1,class:"flex"},il={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},dl=["for"],nl={class:"flex",style:{"justify-content":"flex-end"}},Vl={__name:"index",setup(ul){const C=Y(),z=J();d([]);const $=d(0),A=d(1),x=d(""),I=d([]),u=d(!1),g=d("");d();const e=d({id:null,tipo_doc:1,nro_doc:"",nombres:"",primer_apellido:"",segundo_apellido:"",celular:"",correo:"",direccion:"",sexo:"M",estado:!0}),y=async i=>{let t=await axios.post("/coordinador/get-docentes?page="+A.value,{term:x.value});I.value=t.data.datos.data,$.value=t.data.datos.total},R=async i=>{let t=await axios.post("/coordinador/get-competencia-x-docente?page="+A.value,{id_docente:i});m.value=t.data.datos},S=async()=>{let i=await axios.post("/coordinador/save-docente",{id:e.value.id,tipo_doc:e.value.tipo_doc,nro_doc:e.value.nro_doc,nombres:e.value.nombres,primer_apellido:e.value.primer_apellido,segundo_apellido:e.value.segundo_apellido,celular:e.value.celular,correo:e.value.correo,direccion:e.value.direccion,sexo:e.value.sexo,estado:e.value.estado,competencias:m.value});U(i.data.tipo,i.data.titulo,i.data.mensaje),y(),u.value=!1,F()},M=async i=>{let t=await axios.get("delete-docente/"+i);U(t.data.tipo,t.data.titulo,t.data.mensaje),y()},L=async()=>{let i=await axios.get("get-data-docente/"+e.value.nro_doc);e.value.nombres=i.data.nombre,e.value.primer_apellido=i.data.paterno,e.value.segundo_apellido=i.data.materno},E=d(!1),O=async i=>{R(i.id),u.value=!0,E.value=!0,e.value.id=i.id,e.value.tipo_doc=i.tipo_doc,e.value.nro_doc=i.nro_doc,e.value.nombres=i.nombres,e.value.primer_apellido=i.paterno,e.value.segundo_apellido=i.materno,e.value.celular=i.telefono,e.value.correo=i.email,e.value.direccion=i.direccion,g.value=i.f_nac,e.value.sexo=i.sexo,i.estado===1?e.value.estado=!0:e.value.estado=!1};w(u,(i,t)=>{E.value==!0&&u.value==!1&&(u.value=!1,e.value.id=null,e.value.tipo_doc=1,e.value.nro_doc=null,e.value.nombres=null,e.value.primer_apellido=null,e.value.segundo_apellido=null,e.value.celular=null,e.value.correo=null,e.value.direccion=null,g.value=null,e.value.sexo="M",e.value.estado=!0)}),w(x,(i,t)=>{y()}),w(()=>e.value.nro_doc,(i,t)=>{i.length==8&&L()});const U=(i,t,a)=>{C.add({severity:i,summary:t,detail:a,life:3e3})},G=(i,t)=>{z.require({target:i.currentTarget,message:"¿Estas seguro de eliminar al docente "+t.nombres+"?",icon:"pi pi-info-circle",acceptClass:"p-button-danger",accept:()=>{M(t.id)},reject:()=>{C.add({severity:"error",summary:"Elimación cancelada",detail:"Se ha cancelado la eliminación del docente "+t.nombres,life:3e3})}})};y();const B=d([{value:1,name:"(C1) EDUCACION CIVICA"},{value:2,name:"(C2) HISTORIA Y GEOGRAFÍA"},{value:3,name:"(C3) EDUCACIÓN FISICA"},{value:4,name:"(C4) ARTE Y CULTURA"},{value:5,name:"(C5) LENGUAJE: LITERATURA, RAZONAMIENTO VERBAL, INGLES, QUECHUA Y AIMARA"},{value:6,name:"(C6) FISICA, QUIMICA Y BIOLOGÍA"},{value:7,name:"(C7) MATEMÁTICA"},{value:8,name:"(C8) EDUCACIÓN PARA EL TRABAJO, ECONOMÍA"},{value:9,name:"(C9) TIC"},{value:10,name:"(C10) ESTRATEGIA DE APRENDIZAJE"},{value:11,name:"(C11) RELIGIÓN"}]),m=d([]),F=()=>{e.value.id=null,e.value.tipo_doc=1,e.value.nro_doc=null,e.value.nombres=null,e.value.primer_apellido=null,e.value.segundo_apellido=null,e.value.celular=null,e.value.correo=null,e.value.direccion=null,g.value=null,e.value.sexo="M",e.value.estado=!0,m.value=[]};return(i,t)=>(r(),p(k,null,[o(s(P),{title:"Tutores"}),o(H,null,{default:n(()=>[l("div",ae,[l("div",null,[l("div",oe,[o(s(f),{label:"Nuevo",onClick:t[0]||(t[0]=a=>u.value=!0),size:"small",style:{height:"40px"}}),l("span",se,[ie,o(s(c),{modelValue:x.value,"onUpdate:modelValue":t[1]||(t[1]=a=>x.value=a),style:{"padding-left":"40px",height:"40px"},placeholder:"Search"},null,8,["modelValue"])])])]),o(s(K)),o(s(ee)),l("div",null,[l("div",de,[ne,o(s(X),{value:I.value,class:Z("p-datatable-sm"),tableStyle:"min-width: 50rem",style:{"font-size":".9rem"}},{default:n(()=>[o(s(v),{field:"nro_doc",header:"N° Doc"}),i.conf_codigo===!0?(r(),q(s(v),{key:0,field:"Codigo",header:"Código"})):V("",!0),o(s(v),{field:"nombres",header:"Nombres"},{body:n(({data:a})=>[l("div",ue,[l("div",null,h(a.nombres)+" "+h(a.paterno)+" "+h(a.materno),1)])]),_:1}),o(s(v),{field:"sexo",header:"Sexo"}),o(s(v),{field:"telefono",header:"Celular"}),o(s(v),{field:"email",header:"Correo"}),o(s(v),{field:"estado",style:{"justify-content":"center",display:"flex"},header:"Estado",width:"70px"},{body:n(({data:a})=>[l("div",re,[a.estado===1?(r(),p("div",ce,[o(s(D),{severity:"info",value:"Activo"})])):V("",!0),a.estado===0?(r(),p("div",ve,[o(s(D),{style:{background:"#CDCDCD"},value:"Inactivo"})])):V("",!0)])]),_:1}),o(s(v),{field:"id_programa",header:"Acciones",width:"90px"},{body:n(({data:a})=>[l("div",me,[l("div",pe,[o(s(f),{class:"secondary",icon:"pi pi-pencil","aria-label":"Submit",onClick:_=>O(a),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])]),o(s(f),{icon:"pi pi-trash",severity:"danger","aria-label":"Submit",onClick:_=>G(_,a),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])]),_:1})]),_:1},8,["value"])])]),o(s(W),{visible:u.value,"onUpdate:visible":t[17]||(t[17]=a=>u.value=a),header:"Docente Nuevo",style:{width:"60vw",height:"600px"}},{footer:n(()=>[l("div",nl,[l("div",null,[o(s(f),{label:"Cancelar",outlined:"",onClick:t[16]||(t[16]=a=>u.value=!1),size:"small"})]),o(s(f),{label:"Guardar",onClick:S,size:"small"})])]),default:n(()=>[l("div",_e,[o(s(te),null,{default:n(()=>[o(s(T),{header:"Datos Docente"},{default:n(()=>[l("div",he,[l("div",fe,[l("div",null,[xe,l("div",ye,[l("div",be,[o(s(b),{modelValue:e.value.tipo_doc,"onUpdate:modelValue":t[2]||(t[2]=a=>e.value.tipo_doc=a),name:"pizza",value:1},null,8,["modelValue"]),ge]),l("div",we,[o(s(b),{modelValue:e.value.tipo_doc,"onUpdate:modelValue":t[3]||(t[3]=a=>e.value.tipo_doc=a),name:"pizza",value:2},null,8,["modelValue"]),Ve])])])]),o(s(N),{layout:"vertical"}),l("div",Ce,[l("div",null,[Ae,l("div",Ie,[l("div",Ee,[o(s(b),{modelValue:e.value.sexo,"onUpdate:modelValue":t[4]||(t[4]=a=>e.value.sexo=a),name:"pizza",value:"M"},null,8,["modelValue"]),Ue]),l("div",ke,[o(s(b),{modelValue:e.value.sexo,"onUpdate:modelValue":t[5]||(t[5]=a=>e.value.sexo=a),name:"pizza",value:"F"},null,8,["modelValue"]),Ne])])])]),o(s(N),{layout:"vertical"}),l("div",De,[Te,l("div",null,[o(s(le),{modelValue:e.value.estado,"onUpdate:modelValue":t[6]||(t[6]=a=>e.value.estado=a)},null,8,["modelValue"])])])]),l("div",je,[l("div",ze,[$e,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.nro_doc,"onUpdate:modelValue":t[7]||(t[7]=a=>e.value.nro_doc=a)},null,8,["modelValue"])]),l("div",Re,[Se,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.nombres,"onUpdate:modelValue":t[8]||(t[8]=a=>e.value.nombres=a)},null,8,["modelValue"])])]),l("div",Me,[l("div",Le,[Oe,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.primer_apellido,"onUpdate:modelValue":t[9]||(t[9]=a=>e.value.primer_apellido=a)},null,8,["modelValue"])]),l("div",Ge,[Be,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.segundo_apellido,"onUpdate:modelValue":t[10]||(t[10]=a=>e.value.segundo_apellido=a)},null,8,["modelValue"])])]),l("div",Fe,[l("div",He,[Ye,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.celular,"onUpdate:modelValue":t[11]||(t[11]=a=>e.value.celular=a)},null,8,["modelValue"])]),l("div",Je,[Pe,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.correo,"onUpdate:modelValue":t[12]||(t[12]=a=>e.value.correo=a)},null,8,["modelValue"])])]),l("div",Ze,[l("div",qe,[Qe,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.direccion,"onUpdate:modelValue":t[13]||(t[13]=a=>e.value.direccion=a)},null,8,["modelValue"])])])]),_:1}),o(s(T),{header:"Cursos que puede dictar"},{default:n(()=>[l("div",Ke,[l("div",We,[l("div",Xe,[el,l("div",ll,[(r(!0),p(k,null,Q(B.value,a=>(r(),p("div",{key:a.key,class:"mb-2",style:{"font-size":".9rem"}},[a.value%2===0?(r(),p("div",tl,[o(s(j),{modelValue:m.value,"onUpdate:modelValue":t[14]||(t[14]=_=>m.value=_),inputId:a.key,class:"mr-2",name:"category",value:a.value},null,8,["modelValue","inputId","value"]),l("div",al,[l("label",{for:a.key},h(a.name),9,ol)])])):(r(),p("div",sl,[o(s(j),{modelValue:m.value,"onUpdate:modelValue":t[15]||(t[15]=_=>m.value=_),inputId:a.key,class:"mr-2",name:"category",value:a.value},null,8,["modelValue","inputId","value"]),l("div",il,[l("label",{for:a.key},h(a.name),9,dl)])]))]))),128))])])])])]),_:1})]),_:1})])]),_:1},8,["visible"])])]),_:1})],64))}};export{Vl as default};
