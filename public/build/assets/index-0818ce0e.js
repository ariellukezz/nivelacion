import{A as G}from"./AuthenticatedLayout-b9979661.js";import{u as B,j as F,r as d,k as V,c as p,a,b as s,w as n,F as E,o as r,Z as P,e as l,f as H,n as Y,i as J,h as g,t as _,l as Z}from"./app-49ebdfbb.js";import{a as x,b as c,s as q,c as Q}from"./TopMenu-dd724cd6.js";import{s as K,a as v}from"./column.esm-69627d5b.js";import{s as W,a as X}from"./confirmpopup.esm-d60e2e3b.js";import{s as y}from"./radiobutton.esm-3b9f79d4.js";import{s as U}from"./divider.esm-998e0fbe.js";import"./calendar.esm-d046ebe8.js";import{s as N}from"./tag.esm-c284621a.js";import{s as ee,a as k}from"./tabpanel.esm-ad62c7bc.js";import{s as D}from"./checkbox.esm-65a1867d.js";import{s as le}from"./message.esm-6399f570.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./basecomponent.esm-b782239c.js";import"./index.esm-cd616572.js";const oe={class:"bg-white shadow-xs p-4",style:{height:"calc(100vh - 110px)","font-family":"Arial, Helvetica, sans-serif"}},te={class:"card"},ae={class:"flex",style:{"justify-content":"space-between"}},se={class:"p-input-icon-left"},ie=l("i",{class:"pi pi-search"},null,-1),de={class:"card"},ne=l("div",{class:"flex justify-content-center mb-4"},null,-1),ue={class:"flex",style:{"justify-content":"flex-start"}},re={class:"flex",style:{"justify-content":"center"}},ce={key:0},ve={key:1},me={class:"flex"},pe={class:"mr-2"},_e={style:{}},fe={class:"flex mt-0 mb-3 align-items-center",style:{"justify-content":"flex-end"}},he={class:"flex flex-wrap mr-0"},xe=l("div",{class:"mr-2"},[l("label",null,"Tipo doc ")],-1),ye={class:"flex"},be={class:"flex align-items-center mr-2"},we=l("label",{for:"ingredient1",class:"ml-2"},"DNI",-1),Ve={class:"flex align-items-center"},ge=l("label",{for:"ingredient2",class:"ml-2"},"C. Ext",-1),Ce={class:"flex flex-wrap mr-0"},Ae=l("div",{class:"mr-2"},[l("label",null,"Sexo ")],-1),Ie={class:"flex"},Ee={class:"flex align-items-center mr-2"},Ue=l("label",{for:"ingredient1",class:"ml-2"},"M",-1),Ne={class:"flex align-items-center"},ke=l("label",{for:"ingredient2",class:"ml-2"},"F",-1),De={class:"mr-3"},Te=l("label",null,"Estado",-1),$e={class:"flex",style:{width:"100%","justify-content":"space-between"}},ze={class:"mb-2",style:{width:"48%"}},je=l("div",null,[l("label",null,"Nro documento (DNI)")],-1),Re={class:"mb-2",style:{width:"48%"}},Se=l("div",null,[l("label",null,"Nombres")],-1),Me={class:"flex",style:{width:"100%","justify-content":"space-between"}},Oe={class:"mb-2",style:{width:"48%"}},Le=l("div",null,[l("label",null,"Primer apellido")],-1),Ge={class:"mb-2",style:{width:"48%"}},Be=l("div",null,[l("label",null,"Segundo apellido")],-1),Fe={class:"flex",style:{width:"100%","justify-content":"space-between"}},Pe={class:"mb-2",style:{width:"23%"}},He=l("div",null,[l("label",null,"Nro Celular")],-1),Ye={class:"mb-2",style:{width:"73%"}},Je=l("div",null,[l("label",null,"Correo (preferiblemente institucional)")],-1),Ze={class:"flex",style:{width:"100%","justify-content":"space-between","margin-bottom":"-20px"}},qe={class:"",style:{width:"100%"}},Qe=l("div",null,[l("label",null,"Dirección")],-1),Ke={style:{height:"340px"}},We={class:"flex mt-5",style:{width:"100%","justify-content":"space-between","margin-bottom":"-20px"}},Xe={class:"",style:{width:"100%"}},el=l("div",{class:"mb-2"},[l("h2",null,"Habilidades")],-1),ll={style:{"column-count":"2"}},ol={key:0,class:"flex"},tl={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},al=["for"],sl={key:1,class:"flex"},il={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},dl=["for"],nl={class:"flex",style:{"justify-content":"flex-end"}},Al={__name:"index",setup(ul){const T=B();F(),d([]);const $=d(0),C=d(1),f=d(""),A=d([]),u=d(!1),b=d("");d();const e=d({id:null,tipo_doc:1,nro_doc:"",nombres:"",primer_apellido:"",segundo_apellido:"",celular:"",correo:"",direccion:"",sexo:"M",estado:!0}),w=async i=>{let t=await axios.post("/coordinador/get-docentes?page="+C.value,{term:f.value});A.value=t.data.datos.data,$.value=t.data.datos.total},z=async i=>{let t=await axios.post("/coordinador/get-competencia-x-docente?page="+C.value,{id_docente:i});m.value=t.data.datos},j=async()=>{let i=await axios.post("/coordinador/save-docente",{id:e.value.id,tipo_doc:e.value.tipo_doc,nro_doc:e.value.nro_doc,nombres:e.value.nombres,primer_apellido:e.value.primer_apellido,segundo_apellido:e.value.segundo_apellido,celular:e.value.celular,correo:e.value.correo,direccion:e.value.direccion,sexo:e.value.sexo,estado:e.value.estado,competencias:m.value});M(i.data.tipo,i.data.titulo,i.data.mensaje),w(),u.value=!1,L()},R=async()=>{let i=await axios.get("get-data-docente/"+e.value.nro_doc);e.value.nombres=i.data.nombre,e.value.primer_apellido=i.data.paterno,e.value.segundo_apellido=i.data.materno},I=d(!1),S=async i=>{z(i.id),u.value=!0,I.value=!0,e.value.id=i.id,e.value.tipo_doc=i.tipo_doc,e.value.nro_doc=i.nro_doc,e.value.nombres=i.nombres,e.value.primer_apellido=i.paterno,e.value.segundo_apellido=i.materno,e.value.celular=i.telefono,e.value.correo=i.email,e.value.direccion=i.direccion,b.value=i.f_nac,e.value.sexo=i.sexo,i.estado===1?e.value.estado=!0:e.value.estado=!1};V(u,(i,t)=>{I.value==!0&&u.value==!1&&(u.value=!1,e.value.id=null,e.value.tipo_doc=1,e.value.nro_doc=null,e.value.nombres=null,e.value.primer_apellido=null,e.value.segundo_apellido=null,e.value.celular=null,e.value.correo=null,e.value.direccion=null,b.value=null,e.value.sexo="M",e.value.estado=!0)}),V(f,(i,t)=>{w()}),V(()=>e.value.nro_doc,(i,t)=>{e.value.nro_doc!=null&&e.value.nro_doc.length==8&&R()});const M=(i,t,o)=>{T.add({severity:i,summary:t,detail:o,life:3e3})};w();const O=d([{value:1,name:"(C1) EDUCACION CIVICA"},{value:2,name:"(C2) HISTORIA Y GEOGRAFÍA"},{value:3,name:"(C3) EDUCACIÓN FISICA"},{value:4,name:"(C4) ARTE Y CULTURA"},{value:5,name:"(C5) LENGUAJE: LITERATURA, RAZONAMIENTO VERBAL, INGLES, QUECHUA Y AIMARA"},{value:6,name:"(C6) FISICA, QUIMICA Y BIOLOGÍA"},{value:7,name:"(C7) MATEMÁTICA"},{value:8,name:"(C8) EDUCACIÓN PARA EL TRABAJO, ECONOMÍA"},{value:9,name:"(C9) TIC"},{value:10,name:"(C10) ESTRATEGIA DE APRENDIZAJE"},{value:11,name:"(C11) RELIGIÓN"}]),m=d([]),L=()=>{e.value.id=null,e.value.tipo_doc=1,e.value.nro_doc=null,e.value.nombres=null,e.value.primer_apellido=null,e.value.segundo_apellido=null,e.value.celular=null,e.value.correo=null,e.value.direccion=null,b.value=null,e.value.sexo="M",e.value.estado=!0,m.value=[]};return(i,t)=>(r(),p(E,null,[a(s(P),{title:"Tutores"}),a(G,null,{default:n(()=>[l("div",oe,[l("div",null,[l("div",te,[a(s(le),{severity:"warn",sticky:""},{default:n(()=>[H("Solo debe agregar al docente de su Escuela Profesional. En caso de ser docente de servicio, comuníquese con el docente o el director de la escuela para su asignación en el sistema.")]),_:1})]),l("div",ae,[a(s(x),{label:"Docente Nuevo",onClick:t[0]||(t[0]=o=>u.value=!0),size:"small",style:{height:"40px"}}),l("span",se,[ie,a(s(c),{modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=o=>f.value=o),style:{"padding-left":"40px",height:"40px"},placeholder:"Search"},null,8,["modelValue"])])])]),a(s(q)),a(s(W)),l("div",null,[l("div",de,[ne,a(s(K),{value:A.value,class:Y("p-datatable-sm"),paginator:"",rows:10,rowsPerPageOptions:[10,20,50],tableStyle:"min-width: 50rem",style:{"font-size":".9rem"}},{default:n(()=>[a(s(v),{field:"nro_doc",header:"N° Doc"}),i.conf_codigo===!0?(r(),J(s(v),{key:0,field:"Codigo",header:"Código"})):g("",!0),a(s(v),{field:"nombres",header:"Nombres"},{body:n(({data:o})=>[l("div",ue,[l("div",null,_(o.nombres)+" "+_(o.paterno)+" "+_(o.materno),1)])]),_:1}),a(s(v),{field:"sexo",header:"Sexo"}),a(s(v),{field:"telefono",header:"Celular"}),a(s(v),{field:"email",header:"Correo"}),a(s(v),{field:"estado",style:{"justify-content":"center",display:"flex"},header:"Estado",width:"70px"},{body:n(({data:o})=>[l("div",re,[o.estado===1?(r(),p("div",ce,[a(s(N),{severity:"info",value:"Activo"})])):g("",!0),o.estado===0?(r(),p("div",ve,[a(s(N),{style:{background:"#CDCDCD"},value:"Inactivo"})])):g("",!0)])]),_:1}),a(s(v),{field:"id_programa",header:"Acciones",width:"90px"},{body:n(({data:o})=>[l("div",me,[l("div",pe,[a(s(x),{class:"secondary",icon:"pi pi-pencil","aria-label":"Submit",onClick:h=>S(o),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])])]),_:1})]),_:1},8,["value"])])]),a(s(Q),{visible:u.value,"onUpdate:visible":t[17]||(t[17]=o=>u.value=o),header:"Docente Nuevo",style:{width:"60vw",height:"600px"}},{footer:n(()=>[l("div",nl,[l("div",null,[a(s(x),{label:"Cancelar",outlined:"",onClick:t[16]||(t[16]=o=>u.value=!1),size:"small"})]),a(s(x),{label:"Guardar",onClick:j,size:"small"})])]),default:n(()=>[l("div",_e,[a(s(ee),null,{default:n(()=>[a(s(k),{header:"Datos Docente"},{default:n(()=>[l("div",fe,[l("div",he,[l("div",null,[xe,l("div",ye,[l("div",be,[a(s(y),{modelValue:e.value.tipo_doc,"onUpdate:modelValue":t[2]||(t[2]=o=>e.value.tipo_doc=o),name:"pizza",value:1},null,8,["modelValue"]),we]),l("div",Ve,[a(s(y),{modelValue:e.value.tipo_doc,"onUpdate:modelValue":t[3]||(t[3]=o=>e.value.tipo_doc=o),name:"pizza",value:2},null,8,["modelValue"]),ge])])])]),a(s(U),{layout:"vertical"}),l("div",Ce,[l("div",null,[Ae,l("div",Ie,[l("div",Ee,[a(s(y),{modelValue:e.value.sexo,"onUpdate:modelValue":t[4]||(t[4]=o=>e.value.sexo=o),name:"pizza",value:"M"},null,8,["modelValue"]),Ue]),l("div",Ne,[a(s(y),{modelValue:e.value.sexo,"onUpdate:modelValue":t[5]||(t[5]=o=>e.value.sexo=o),name:"pizza",value:"F"},null,8,["modelValue"]),ke])])])]),a(s(U),{layout:"vertical"}),l("div",De,[Te,l("div",null,[a(s(X),{modelValue:e.value.estado,"onUpdate:modelValue":t[6]||(t[6]=o=>e.value.estado=o)},null,8,["modelValue"])])])]),l("div",$e,[l("div",ze,[je,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.nro_doc,"onUpdate:modelValue":t[7]||(t[7]=o=>e.value.nro_doc=o)},null,8,["modelValue"])]),l("div",Re,[Se,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.nombres,"onUpdate:modelValue":t[8]||(t[8]=o=>e.value.nombres=o)},null,8,["modelValue"])])]),l("div",Me,[l("div",Oe,[Le,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.primer_apellido,"onUpdate:modelValue":t[9]||(t[9]=o=>e.value.primer_apellido=o)},null,8,["modelValue"])]),l("div",Ge,[Be,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.segundo_apellido,"onUpdate:modelValue":t[10]||(t[10]=o=>e.value.segundo_apellido=o)},null,8,["modelValue"])])]),l("div",Fe,[l("div",Pe,[He,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.celular,"onUpdate:modelValue":t[11]||(t[11]=o=>e.value.celular=o)},null,8,["modelValue"])]),l("div",Ye,[Je,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.correo,"onUpdate:modelValue":t[12]||(t[12]=o=>e.value.correo=o)},null,8,["modelValue"])])]),l("div",Ze,[l("div",qe,[Qe,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.direccion,"onUpdate:modelValue":t[13]||(t[13]=o=>e.value.direccion=o)},null,8,["modelValue"])])])]),_:1}),a(s(k),{header:"Cursos que puede dictar"},{default:n(()=>[l("div",Ke,[l("div",We,[l("div",Xe,[el,l("div",ll,[(r(!0),p(E,null,Z(O.value,o=>(r(),p("div",{key:o.key,class:"mb-2",style:{"font-size":".9rem"}},[o.value%2===0?(r(),p("div",ol,[a(s(D),{modelValue:m.value,"onUpdate:modelValue":t[14]||(t[14]=h=>m.value=h),inputId:o.key,class:"mr-2",name:"category",value:o.value},null,8,["modelValue","inputId","value"]),l("div",tl,[l("label",{for:o.key},_(o.name),9,al)])])):(r(),p("div",sl,[a(s(D),{modelValue:m.value,"onUpdate:modelValue":t[15]||(t[15]=h=>m.value=h),inputId:o.key,class:"mr-2",name:"category",value:o.value},null,8,["modelValue","inputId","value"]),l("div",il,[l("label",{for:o.key},_(o.name),9,dl)])]))]))),128))])])])])]),_:1})]),_:1})])]),_:1},8,["visible"])])]),_:1})],64))}};export{Al as default};
