import{A as F}from"./LayoutSupervisor-a144943f.js";import{o as m,c as C,n as G,u as H,r as i,j as b,a,b as l,w as o,F as j,Z as Y,e as t,t as y,l as _,h as x}from"./app-a0ce6157.js";import{b as P,s as Z,a as I}from"./column.esm-754aa125.js";import{a as p,b as J,c as Q,s as W}from"./TopMenu-ce49d3e8.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-ab7e1a8e.js";var D={name:"Textarea",emits:["update:modelValue"],props:{modelValue:null,autoResize:Boolean},mounted(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize(){const r=window.getComputedStyle(this.$el);this.$el.style.height="auto",this.$el.style.height=`calc(${r.borderTopWidth} + ${r.borderBottomWidth} + ${this.$el.scrollHeight}px)`,parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput(r){this.autoResize&&this.resize(),this.$emit("update:modelValue",r.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const q=["value"];function K(r,h,N,n,u,v){return m(),C("textarea",{class:G(["p-inputtextarea p-inputtext p-component",{"p-filled":v.filled,"p-inputtextarea-resizable ":N.autoResize}]),value:N.modelValue,onInput:h[0]||(h[0]=(...A)=>v.onInput&&v.onInput(...A))},null,42,q)}function X(r,h){h===void 0&&(h={});var N=h.insertAt;if(!(!r||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css",N==="top"&&n.firstChild?n.insertBefore(u,n.firstChild):n.appendChild(u),u.styleSheet?u.styleSheet.cssText=r:u.appendChild(document.createTextNode(r))}}var ee=`
.p-inputtextarea-resizable {
    overflow: hidden;
    resize: none;
}
.p-fluid .p-inputtextarea {
    width: 100%;
}
`;X(ee);D.render=K;const le={class:"flex justify-between items-start"},ae={class:"flex flex-wrap items-start",style:{gap:"1rem"}},te={class:"mb-3",style:{width:"240px"}},se={class:"flex align-items-center",style:{width:"400px","font-size":"0.9rem","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},ie={class:"mb-3",style:{width:"240px"}},oe={class:"flex align-items-center",style:{width:"400px","font-size":"0.9rem","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},ne={class:"mb-3",style:{width:"240px"}},ue={class:"flex align-items-center",style:{width:"400px","font-size":"0.9rem","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},de={class:"p-input-icon-left"},re=t("i",{class:"pi pi-search"},null,-1),ce={class:"mt-3"},pe=t("i",{class:"pi pi-download",style:{color:"green"}},null,-1),ve={class:"flex"},Ie={class:"mr-2"},he={class:"flex"},me={class:"mr-2"},Ne={key:0},Ae={key:1},be={key:2},Oe={class:"mr-2"},Ee=t("div",null,null,-1),fe={class:"w-full"},Ce={class:"flex justify-end"},Pe={__name:"asignacion",setup(r){const h=H(),N=(d,s,e)=>{h.add({severity:d,summary:s,detail:e,life:3e3})},n=i(!1),u=i(1),v=i(null),A=i(null),O=i(null),E=i(null),R=i(null),S=i(0),g=i([]),T=i(10),L=i([{value:"2024-I",label:"2024-I"},{value:"2024-II",label:"2024-II"}]),V=i([{value:"Dictantes",label:"Dictantes"},{value:"Informe",label:"Informe"},{value:"Plan",label:"Plan"},{value:"Resolucion",label:"Resolucion"},{value:"Otro",label:"Otro"}]);i([{value:1,label:"Aceptado"},{value:0,label:"Rechazado"},{value:null,label:"Pendiente"}]);const c=async()=>{let d=await axios.post("get-documentos?page="+u.value,{term:v.value,paginashoja:T.value,programa:A.value,periodo:O.value,tipo:E.value,aceptado:R.value});g.value=d.data.datos.data,S.value=d.data.datos.total},z=d=>{window.open("../"+d,"_blank")},f=i({}),$=async()=>{await axios.post("observar-documento",f.value),c(),N("info","DOCUMENTO OBSERVADO",""),n.value=!1,f.value={}},w=async d=>{await axios.post("cambiar-estado-documento",d),c(),N("info","ESTADO MODIFICADO","")},M=d=>{n.value=!0,f.value=d},k=()=>{A.value=null,O.value=null,E.value=null,R.value=null,v.value=null,c()};b(v,()=>{c()}),b(A,()=>{c()}),b(O,()=>{c()}),b(E,()=>{c()}),b(R,()=>{c()}),b(T,()=>{c()});const B=i([{value:1,label:"INGENIERIA AGRONOMICA - PUNO"},{value:2,label:"INGENIERIA AGROINDUSTRIAL - PUNO"},{value:3,label:"INGENIERIA TOPOGRAFICA Y AGRIMENSURA - PUNO"},{value:4,label:"MEDICINA VETERINARIA Y ZOOTECNIA - PUNO"},{value:5,label:"INGENIERIA ECONOMICA - PUNO"},{value:6,label:"CIENCIAS CONTABLES - PUNO"},{value:7,label:"ADMINISTRACION - PUNO"},{value:8,label:"TRABAJO SOCIAL - PUNO"},{value:9,label:"ENFERMERIA - PUNO"},{value:10,label:"INGENIERIA DE MINAS - PUNO"},{value:11,label:"HUMANIDADES - PUNO"},{value:12,label:"SOCIOLOGIA - PUNO"},{value:13,label:"TURISMO - PUNO"},{value:14,label:"ANTROPOLOGIA - PUNO"},{value:15,label:"CIENCIAS DE LA COMUNICACION SOCIAL - PUNO"},{value:16,label:"ARTE - PUNO"},{value:17,label:"BIOLOGIA - PUNO"},{value:18,label:"EDUCACION SECUNDARIA - PUNO"},{value:19,label:"EDUCACION PRIMARIA - PUNO"},{value:20,label:"EDUCACION INICIAL - PUNO"},{value:21,label:"EDUCACION FISICA - PUNO"},{value:22,label:"INGENIERIA ESTADISTICA E INFORMATICA - PUNO"},{value:23,label:"DERECHO - PUNO"},{value:24,label:"INGENIERIA QUIMICA - PUNO"},{value:25,label:"ODONTOLOGIA - PUNO"},{value:26,label:"NUTRICION HUMANA - PUNO"},{value:27,label:"INGENIERIA GEOLOGICA - PUNO"},{value:28,label:"INGENIERIA METALURGICA - PUNO"},{value:29,label:"INGENIERIA CIVIL - PUNO"},{value:30,label:"ARQUITECTURA Y URBANISMO - PUNO"},{value:31,label:"CIENCIAS FISICO MATEMATICAS - PUNO"},{value:32,label:"INGENIERIA AGRICOLA - PUNO"},{value:33,label:"MEDICINA HUMANA - PUNO"},{value:34,label:"INGENIERIA MECANICA ELECTRICA - PUNO"},{value:35,label:"INGENIERIA ELECTRONICA - PUNO"},{value:36,label:"INGENIERIA DE SISTEMAS - PUNO"},{value:37,label:"PSICOLOGIA - PUNO"},{value:38,label:"INGENIERIA ECONOMICA - AZANGARO"},{value:39,label:"INGENIERIA DE MINAS - AZANGARO"},{value:40,label:"INGENIERIA TELECOMUNICACIONES - AZANGARO"},{value:41,label:"CIENCIAS CONTABLES - JULI"},{value:42,label:"ARQUITECTURA Y URBANISMO - JULI"},{value:43,label:"INGENIERIA AGROINDUSTRIAL - JULI"}]);return c(),(d,s)=>(m(),C(j,null,[a(l(Y),{title:"Documentos"}),a(F,null,{default:o(()=>[t("div",le,[t("div",ae,[t("div",te,[a(l(P),{modelValue:A.value,"onUpdate:modelValue":s[0]||(s[0]=e=>A.value=e),options:B.value,filter:"",optionLabel:"label",optionValue:"value",placeholder:"Seleccione escuela profesional",style:{width:"100%"},class:"w-full md:w-11rem"},{option:o(e=>[t("div",se,[t("div",null,y(e.option.label),1)])]),_:1},8,["modelValue","options"])]),t("div",ie,[a(l(P),{modelValue:O.value,"onUpdate:modelValue":s[1]||(s[1]=e=>O.value=e),options:L.value,filter:"",optionLabel:"label",optionValue:"value",placeholder:"Seleccione periodo",style:{width:"100%"},class:"w-full md:w-11rem"},{option:o(e=>[t("div",oe,[t("div",null,y(e.option.label),1)])]),_:1},8,["modelValue","options"])]),t("div",ne,[a(l(P),{modelValue:E.value,"onUpdate:modelValue":s[2]||(s[2]=e=>E.value=e),options:V.value,filter:"",optionLabel:"label",optionValue:"value",placeholder:"Seleccione tipo de documento",style:{width:"100%"},class:"w-full md:w-11rem"},{option:o(e=>[t("div",ue,[t("div",null,y(e.option.label),1)])]),_:1},8,["modelValue","options"])]),a(l(p),{label:"Limpiar filtros",icon:"pi pi-filter-slash",class:"p-button-secondary",onClick:k})]),t("div",null,[t("span",de,[re,a(l(J),{modelValue:v.value,"onUpdate:modelValue":s[3]||(s[3]=e=>v.value=e),placeholder:"Search"},null,8,["modelValue"])])])]),t("div",ce,[a(l(Z),{showGridlines:!1,value:g.value,paginator:"",rows:10,totalRecords:S.value,rowsPerPageOptions:[10,20,50],currentPage:u.value,class:G("p-datatable-sm"),tableStyle:"min-width: 50rem",style:{"font-size":".9rem"}},{default:o(()=>[a(l(I),{field:"periodo",header:"Periodo"}),a(l(I),{field:"tipo",header:"TIPO"}),a(l(I),{field:"escuela",header:"ESCUELA PROFESIONAL"}),a(l(I),{field:"fecha_subida",header:"FECHA"}),a(l(I),{field:"username",header:"USUARIO"}),a(l(I),{field:"url",header:"Ver Documento",style:{"min-width":"12rem"}},{body:o(({data:e})=>[a(l(p),{label:"Link",onClick:U=>z(e.url),link:""},{default:o(()=>[pe]),_:2},1032,["onClick"])]),_:1}),a(l(I),{field:"id_programa",header:"Estado",width:"90px"},{body:o(({data:e})=>[t("div",ve,[t("div",Ie,[e.aceptado===1?(m(),_(l(p),{key:0,severity:"success",label:"Aceptado","aria-label":"Submit",size:"small",style:{width:"90px",height:"25px"}})):e.aceptado===0?(m(),_(l(p),{key:1,severity:"danger",label:"Rechazado","aria-label":"Submit",size:"small",style:{width:"90px",height:"25px"}})):(m(),_(l(p),{key:2,severity:"secondary",label:"Pendiente","aria-label":"Submit",size:"small",style:{width:"90px",height:"25px"}}))])])]),_:1}),a(l(I),{header:"Observaciones"},{body:o(({data:e})=>[t("div",null,y(e.obser),1)]),_:1}),a(l(I),{field:"id_programa",header:"Acciones",width:"90px"},{body:o(({data:e})=>[t("div",he,[t("div",me,[e.aceptado==1?(m(),C("div",Ne,[a(l(p),{severity:"success",icon:"pi pi-check","aria-label":"Submit",onClick:U=>w(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])):x("",!0),e.aceptado==0?(m(),C("div",Ae,[a(l(p),{severity:"danger",icon:"pi pi-times","aria-label":"Submit",onClick:U=>w(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])):x("",!0),e.aceptado==null?(m(),C("div",be,[a(l(p),{severity:"secondary",icon:"pi pi-spinner",label:"",onClick:U=>w(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])):x("",!0)]),t("div",Oe,[a(l(p),{class:"secondary",icon:"pi pi-pencil","aria-label":"Submit",onClick:U=>M(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])])]),_:1})]),_:1},8,["value","totalRecords","currentPage"]),Ee]),a(l(Q),{visible:n.value,"onUpdate:visible":s[6]||(s[6]=e=>n.value=e),modal:"",header:"ObservaciÃ³n",style:{width:"25rem"}},{footer:o(()=>[t("div",Ce,[a(l(p),{icon:"pi pi-save",label:"Observar",severity:"success","aria-label":"Submit",onClick:s[5]||(s[5]=e=>$()),size:"small",style:{height:"25px"}})])]),default:o(()=>[t("div",fe,[t("div",null,[a(l(D),{modelValue:f.value.obser,"onUpdate:modelValue":s[4]||(s[4]=e=>f.value.obser=e),style:{width:"100%"},variant:"filled",rows:"6"},null,8,["modelValue"])])])]),_:1},8,["visible"]),a(l(W))]),_:1})],64))}};export{Pe as default};
