import{A as F}from"./AuthenticatedLayout-f2e431ec.js";import{u as H,h as P,r as d,i as U,c as p,a,b as s,w as n,F as k,o as r,Z as Y,d as e,f as J,n as Z,k as q,g as w,t as f,j as Q}from"./app-857e9101.js";import{a as h,b as c,s as K,c as W}from"./TopMenu-128f62e5.js";import{s as X,a as v}from"./column.esm-ee0205ea.js";import{s as ee,a as le}from"./confirmpopup.esm-e18c6d26.js";import{s as b}from"./radiobutton.esm-9e1ade08.js";import{s as D}from"./calendar.esm-5c6d333d.js";import{s as N}from"./tag.esm-8404e9ef.js";import{s as te,a as T}from"./tabpanel.esm-fae8e1ee.js";import{s as $}from"./checkbox.esm-dd40f2e9.js";import{s as oe}from"./message.esm-2b1b8474.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./basecomponent.esm-124ce2e5.js";import"./index.esm-f18ea3b9.js";const ae={class:"bg-white shadow-xs p-4",style:{height:"calc(100vh - 110px)","font-family":"Arial, Helvetica, sans-serif"}},se={class:"flex",style:{"justify-content":"space-between"}},ie={class:"p-input-icon-left"},de=e("i",{class:"pi pi-search"},null,-1),ne={class:"card"},ue={class:"card"},re=e("div",{class:"flex justify-content-center mb-4"},null,-1),ce={class:"flex",style:{"justify-content":"flex-start"}},ve={class:"flex",style:{"justify-content":"center"}},me={key:0},pe={key:1},_e={class:"flex"},fe={class:"mr-2"},he={style:{}},xe={class:"flex mt-0 mb-3 align-items-center",style:{"justify-content":"flex-end"}},ye={class:"flex flex-wrap mr-0"},be=e("div",{class:"mr-2"},[e("label",null,"Tipo doc ")],-1),ge={class:"flex"},we={class:"flex align-items-center mr-2"},Ve=e("label",{for:"ingredient1",class:"ml-2"},"DNI",-1),Ce={class:"flex align-items-center"},Ae=e("label",{for:"ingredient2",class:"ml-2"},"C. Ext",-1),Ie={class:"flex flex-wrap mr-0"},Ee=e("div",{class:"mr-2"},[e("label",null,"Sexo ")],-1),Ue={class:"flex"},ke={class:"flex align-items-center mr-2"},De=e("label",{for:"ingredient1",class:"ml-2"},"M",-1),Ne={class:"flex align-items-center"},Te=e("label",{for:"ingredient2",class:"ml-2"},"F",-1),$e={class:"mr-3"},je=e("label",null,"Estado",-1),ze={class:"flex",style:{width:"100%","justify-content":"space-between"}},Se={class:"mb-2",style:{width:"48%"}},Re=e("div",null,[e("label",null,"Nro documento")],-1),Me={class:"mb-2",style:{width:"48%"}},Le=e("div",null,[e("label",null,"Nombres")],-1),Oe={class:"flex",style:{width:"100%","justify-content":"space-between"}},Ge={class:"mb-2",style:{width:"48%"}},Be=e("div",null,[e("label",null,"Primer apellido")],-1),Fe={class:"mb-2",style:{width:"48%"}},He=e("div",null,[e("label",null,"Segundo apellido")],-1),Pe={class:"flex",style:{width:"100%","justify-content":"space-between"}},Ye={class:"mb-2",style:{width:"23%"}},Je=e("div",null,[e("label",null,"Celular")],-1),Ze={class:"mb-2",style:{width:"73%"}},qe=e("div",null,[e("label",null,"Correo")],-1),Qe={class:"flex",style:{width:"100%","justify-content":"space-between","margin-bottom":"-20px"}},Ke={class:"",style:{width:"100%"}},We=e("div",null,[e("label",null,"Dirección")],-1),Xe={style:{height:"340px"}},el={class:"flex mt-5",style:{width:"100%","justify-content":"space-between","margin-bottom":"-20px"}},ll={class:"",style:{width:"100%"}},tl=e("div",{class:"mb-2"},[e("h2",null,"Habilidades")],-1),ol={style:{"column-count":"2"}},al={key:0,class:"flex"},sl={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},il=["for"],dl={key:1,class:"flex"},nl={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},ul=["for"],rl={class:"flex",style:{"justify-content":"flex-end"}},Il={__name:"index",setup(cl){const V=H(),j=P();d([]);const z=d(0),C=d(1),x=d(""),A=d([]),u=d(!1),g=d("");d();const l=d({id:null,tipo_doc:1,nro_doc:"",nombres:"",primer_apellido:"",segundo_apellido:"",celular:"",correo:"",direccion:"",sexo:"M",estado:!0}),y=async i=>{let t=await axios.post("/coordinador/get-docentes?page="+C.value,{term:x.value});A.value=t.data.datos.data,z.value=t.data.datos.total},S=async i=>{let t=await axios.post("/coordinador/get-competencia-x-docente?page="+C.value,{id_docente:i});m.value=t.data.datos},R=async()=>{let i=await axios.post("/coordinador/save-docente",{id:l.value.id,tipo_doc:l.value.tipo_doc,nro_doc:l.value.nro_doc,nombres:l.value.nombres,primer_apellido:l.value.primer_apellido,segundo_apellido:l.value.segundo_apellido,celular:l.value.celular,correo:l.value.correo,direccion:l.value.direccion,sexo:l.value.sexo,estado:l.value.estado,competencias:m.value});E(i.data.tipo,i.data.titulo,i.data.mensaje),y(),u.value=!1,B()},M=async i=>{let t=await axios.get("delete-docente/"+i);E(t.data.tipo,t.data.titulo,t.data.mensaje),y()},I=d(!1),L=async i=>{S(i.id),u.value=!0,I.value=!0,l.value.id=i.id,l.value.tipo_doc=i.tipo_doc,l.value.nro_doc=i.nro_doc,l.value.nombres=i.nombres,l.value.primer_apellido=i.paterno,l.value.segundo_apellido=i.materno,l.value.celular=i.telefono,l.value.correo=i.email,l.value.direccion=i.direccion,g.value=i.f_nac,l.value.sexo=i.sexo,i.estado===1?l.value.estado=!0:l.value.estado=!1};U(u,(i,t)=>{I.value==!0&&u.value==!1&&(u.value=!1,l.value.id=null,l.value.tipo_doc=1,l.value.nro_doc=null,l.value.nombres=null,l.value.primer_apellido=null,l.value.segundo_apellido=null,l.value.celular=null,l.value.correo=null,l.value.direccion=null,g.value=null,l.value.sexo="M",l.value.estado=!0)}),U(x,(i,t)=>{y()});const E=(i,t,o)=>{V.add({severity:i,summary:t,detail:o,life:3e3})},O=(i,t)=>{j.require({target:i.currentTarget,message:"¿Estas seguro de eliminar al docente "+t.nombres+"?",icon:"pi pi-info-circle",acceptClass:"p-button-danger",accept:()=>{M(t.id)},reject:()=>{V.add({severity:"error",summary:"Elimación cancelada",detail:"Se ha cancelado la eliminación del docente "+t.nombres,life:3e3})}})};y();const G=d([{value:1,name:"(C1) EDUCACION CIVICA"},{value:2,name:"(C2) HISTORIA Y GEOGRAFÍA"},{value:3,name:"(C3) EDUCACIÓN FISICA"},{value:4,name:"(C4) ARTE Y CULTURA"},{value:5,name:"(C5) LENGUAJE: LITERATURA, RAZONAMIENTO VERBAL, INGLES, QUECHUA Y AIMARA"},{value:6,name:"(C6) FISICA, QUIMICA Y BIOLOGÍA"},{value:7,name:"(C7) MATEMÁTICA"},{value:8,name:"(C8) EDUCACIÓN PARA EL TRABAJO, ECONOMÍA"},{value:9,name:"(C9) TIC"},{value:10,name:"(C10) ESTRATEGIA DE APRENDIZAJE"},{value:11,name:"(C11) RELIGIÓN"}]),m=d([]),B=()=>{l.value.id=null,l.value.tipo_doc=1,l.value.nro_doc=null,l.value.nombres=null,l.value.primer_apellido=null,l.value.segundo_apellido=null,l.value.celular=null,l.value.correo=null,l.value.direccion=null,g.value=null,l.value.sexo="M",l.value.estado=!0,m.value=[]};return(i,t)=>(r(),p(k,null,[a(s(Y),{title:"Tutores"}),a(F,null,{default:n(()=>[e("div",ae,[e("div",null,[e("div",se,[a(s(h),{label:"Docente Nuevo",onClick:t[0]||(t[0]=o=>u.value=!0),size:"small",style:{height:"40px"}}),e("span",ie,[de,a(s(c),{modelValue:x.value,"onUpdate:modelValue":t[1]||(t[1]=o=>x.value=o),style:{"padding-left":"40px",height:"40px"},placeholder:"Search"},null,8,["modelValue"])])]),e("div",ne,[a(s(oe),{severity:"error",sticky:""},{default:n(()=>[J("Solo agregar Docente de su Escuela Profesional, en caso sea Docente de servicio comunicarse con el Docente o Director de Escuela para su asignación.")]),_:1})])]),a(s(K)),a(s(ee)),e("div",null,[e("div",ue,[re,a(s(X),{value:A.value,class:Z("p-datatable-sm"),tableStyle:"min-width: 50rem",style:{"font-size":".9rem"}},{default:n(()=>[a(s(v),{field:"nro_doc",header:"N° Doc"}),i.conf_codigo===!0?(r(),q(s(v),{key:0,field:"Codigo",header:"Código"})):w("",!0),a(s(v),{field:"nombres",header:"Nombres"},{body:n(({data:o})=>[e("div",ce,[e("div",null,f(o.nombres)+" "+f(o.paterno)+" "+f(o.materno),1)])]),_:1}),a(s(v),{field:"sexo",header:"Sexo"}),a(s(v),{field:"telefono",header:"Celular"}),a(s(v),{field:"email",header:"Correo"}),a(s(v),{field:"estado",style:{"justify-content":"center",display:"flex"},header:"Estado",width:"70px"},{body:n(({data:o})=>[e("div",ve,[o.estado===1?(r(),p("div",me,[a(s(N),{severity:"info",value:"Activo"})])):w("",!0),o.estado===0?(r(),p("div",pe,[a(s(N),{style:{background:"#CDCDCD"},value:"Inactivo"})])):w("",!0)])]),_:1}),a(s(v),{field:"id_programa",header:"Acciones",width:"90px"},{body:n(({data:o})=>[e("div",_e,[e("div",fe,[a(s(h),{class:"secondary",icon:"pi pi-pencil","aria-label":"Submit",onClick:_=>L(o),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])]),a(s(h),{icon:"pi pi-trash",severity:"danger","aria-label":"Submit",onClick:_=>O(_,o),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])]),_:1})]),_:1},8,["value"])])]),a(s(W),{visible:u.value,"onUpdate:visible":t[17]||(t[17]=o=>u.value=o),header:"Docente Nuevo",style:{width:"60vw",height:"600px"}},{footer:n(()=>[e("div",rl,[e("div",null,[a(s(h),{label:"Cancelar",outlined:"",onClick:t[16]||(t[16]=o=>u.value=!1),size:"small"})]),a(s(h),{label:"Guardar",onClick:R,size:"small"})])]),default:n(()=>[e("div",he,[a(s(te),null,{default:n(()=>[a(s(T),{header:"Datos Docente"},{default:n(()=>[e("div",xe,[e("div",ye,[e("div",null,[be,e("div",ge,[e("div",we,[a(s(b),{modelValue:l.value.tipo_doc,"onUpdate:modelValue":t[2]||(t[2]=o=>l.value.tipo_doc=o),name:"pizza",value:1},null,8,["modelValue"]),Ve]),e("div",Ce,[a(s(b),{modelValue:l.value.tipo_doc,"onUpdate:modelValue":t[3]||(t[3]=o=>l.value.tipo_doc=o),name:"pizza",value:2},null,8,["modelValue"]),Ae])])])]),a(s(D),{layout:"vertical"}),e("div",Ie,[e("div",null,[Ee,e("div",Ue,[e("div",ke,[a(s(b),{modelValue:l.value.sexo,"onUpdate:modelValue":t[4]||(t[4]=o=>l.value.sexo=o),name:"pizza",value:"M"},null,8,["modelValue"]),De]),e("div",Ne,[a(s(b),{modelValue:l.value.sexo,"onUpdate:modelValue":t[5]||(t[5]=o=>l.value.sexo=o),name:"pizza",value:"F"},null,8,["modelValue"]),Te])])])]),a(s(D),{layout:"vertical"}),e("div",$e,[je,e("div",null,[a(s(le),{modelValue:l.value.estado,"onUpdate:modelValue":t[6]||(t[6]=o=>l.value.estado=o)},null,8,["modelValue"])])])]),e("div",ze,[e("div",Se,[Re,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.nro_doc,"onUpdate:modelValue":t[7]||(t[7]=o=>l.value.nro_doc=o)},null,8,["modelValue"])]),e("div",Me,[Le,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.nombres,"onUpdate:modelValue":t[8]||(t[8]=o=>l.value.nombres=o)},null,8,["modelValue"])])]),e("div",Oe,[e("div",Ge,[Be,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.primer_apellido,"onUpdate:modelValue":t[9]||(t[9]=o=>l.value.primer_apellido=o)},null,8,["modelValue"])]),e("div",Fe,[He,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.segundo_apellido,"onUpdate:modelValue":t[10]||(t[10]=o=>l.value.segundo_apellido=o)},null,8,["modelValue"])])]),e("div",Pe,[e("div",Ye,[Je,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.celular,"onUpdate:modelValue":t[11]||(t[11]=o=>l.value.celular=o)},null,8,["modelValue"])]),e("div",Ze,[qe,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.correo,"onUpdate:modelValue":t[12]||(t[12]=o=>l.value.correo=o)},null,8,["modelValue"])])]),e("div",Qe,[e("div",Ke,[We,a(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.direccion,"onUpdate:modelValue":t[13]||(t[13]=o=>l.value.direccion=o)},null,8,["modelValue"])])])]),_:1}),a(s(T),{header:"Cursos que puede dictar"},{default:n(()=>[e("div",Xe,[e("div",el,[e("div",ll,[tl,e("div",ol,[(r(!0),p(k,null,Q(G.value,o=>(r(),p("div",{key:o.key,class:"mb-2",style:{"font-size":".9rem"}},[o.value%2===0?(r(),p("div",al,[a(s($),{modelValue:m.value,"onUpdate:modelValue":t[14]||(t[14]=_=>m.value=_),inputId:o.key,class:"mr-2",name:"category",value:o.value},null,8,["modelValue","inputId","value"]),e("div",sl,[e("label",{for:o.key},f(o.name),9,il)])])):(r(),p("div",dl,[a(s($),{modelValue:m.value,"onUpdate:modelValue":t[15]||(t[15]=_=>m.value=_),inputId:o.key,class:"mr-2",name:"category",value:o.value},null,8,["modelValue","inputId","value"]),e("div",nl,[e("label",{for:o.key},f(o.name),9,ul)])]))]))),128))])])])])]),_:1})]),_:1})])]),_:1},8,["visible"])])]),_:1})],64))}};export{Il as default};
