import{A as E}from"./AuthenticatedLayout-c1d05478.js";import{X as i}from"./xlsx-10ba2be5.js";import{a as k}from"./TopMenu-de7492fc.js";import{r as _,i as S,w as N,o as l,a as x,e as t,b as w,c as n,l as b,F as y,q as I,t as r}from"./app-bd54c57e.js";import"./_plugin-vue_export-helper-c27b6911.js";const O=t("div",{class:"text-center mb-4"},[t("h1",{class:"text-xl font-bold"},"REPROBADOS – NIVELACIÓN")],-1),A={class:"p-4",style:{background:"white"}},L={class:"flex justify-end mb-2"},R={style:{"border-radius":"4px",width:"100%",overflow:"hidden"}},B=t("thead",{style:{height:"30px",color:"white","background-color":"var(--primary-color)",padding:"0px 10px"}},[t("tr",{style:{"font-size":".9rem"}},[t("th",{style:{border:"1px solid #d9d9d9"}},"CODIGO"),t("th",{style:{border:"1px solid #d9d9d9"}},"APELLIDOS Y NOMBRES"),t("th",{style:{border:"1px solid #d9d9d9"}},"EMAIL"),t("th",{style:{border:"1px solid #d9d9d9"}},"CELULAR"),t("th",{style:{border:"1px solid #d9d9d9"}},"PROGRAMA DE ESTUDIO"),t("th",{style:{border:"1px solid #d9d9d9"}},"INGRESO"),t("th",{style:{border:"1px solid #d9d9d9"}},"C1"),t("th",{style:{border:"1px solid #d9d9d9"}},"C2"),t("th",{style:{border:"1px solid #d9d9d9"}},"C3"),t("th",{style:{border:"1px solid #d9d9d9"}},"C4"),t("th",{style:{border:"1px solid #d9d9d9"}},"C5"),t("th",{style:{border:"1px solid #d9d9d9"}},"C6"),t("th",{style:{border:"1px solid #d9d9d9"}},"C7"),t("th",{style:{border:"1px solid #d9d9d9"}},"C8"),t("th",{style:{border:"1px solid #d9d9d9"}},"C9"),t("th",{style:{border:"1px solid #d9d9d9"}},"C10"),t("th",{style:{border:"1px solid #d9d9d9"}},"C11")])],-1),D={style:{border:"1px solid #d9d9d9","text-align":"center"}},$={class:"pl-1 pr-1"},j={style:{border:"1px solid #d9d9d9"}},z={class:"pl-1 pr-1"},V={style:{border:"1px solid #d9d9d9","text-align":"center"}},F={class:"pl-1 pr-1"},G={style:{border:"1px solid #d9d9d9","text-align":"center"}},M={class:"pl-1 pr-1"},P={style:{border:"1px solid #d9d9d9","text-align":"center"}},X={class:"pl-1 pr-1"},H={style:{border:"1px solid #d9d9d9","text-align":"center"}},U={class:"pl-1 pr-1"},q={key:0},T={key:0},Y={key:1},J=t("span",{style:{"font-size":".9rem"}},"--",-1),K=[J],Q={key:1},dt={__name:"index",setup(W){function a(e,s){for(var d=0;d<e.length;d++)if(e[d].competencia===s)return d;return null}function h(e){if(e==null||String(e).trim()==="")return"SI";const s=Number(String(e).replace(",","."));return Number.isNaN(s)||s<=10?"SI":s>=11&&s<=20?"NO":"SI"}const f=_(1),c=_([]),g=async()=>{const e=await axios.get("/reprobados-nivelacion/data?page="+f.value);c.value=e.data.datos,v()},u=_([]),v=()=>{u.value=c.value.map(e=>{const s={codigo_est:e.codigo_est,programa:e.programa,semestre:e.semestre,filial:e.filial,email:e.email,telefono:e.telefono,nombreCompleto:`${e.paterno} ${e.materno},  ${e.nombre}`};for(let d=1;d<=11;d++){const o=a(e.notas,d);o!==null&&e.notas[o]?s[`C${d}`]=h(e.notas[o].nota):s[`C${d}`]="--"}return s})},C=()=>{const e=i.utils.json_to_sheet(u.value),s=i.utils.book_new();i.utils.book_append_sheet(s,e,"Reprobados"),i.writeFile(s,"reprobados_nivelacion.xlsx")};return g(),(e,s)=>{const d=I("Head");return l(),S(E,null,{default:N(()=>[x(d,{title:"Reprobados Nivelación"}),O,t("div",A,[t("div",L,[x(w(k),{label:"Exportar excel",onClick:C,size:"small",style:{height:"40px"}})]),t("table",R,[B,t("tbody",null,[(l(!0),n(y,null,b(c.value,o=>(l(),n("tr",{key:o.id_estudiante,style:{"font-size":".9rem"}},[t("td",D,[t("div",$,r(o.codigo_est),1)]),t("td",j,[t("div",z,r(o.paterno)+" "+r(o.materno)+", "+r(o.nombre),1)]),t("td",V,[t("div",F,r(o.email),1)]),t("td",G,[t("div",M,r(o.telefono),1)]),t("td",P,[t("div",X,r(o.programa),1)]),t("td",H,[t("div",U,r(o.semestre),1)]),(l(),n(y,null,b(11,(p,m)=>t("td",{key:m,style:{border:"1px solid #d9d9d9","min-width":"40px","text-align":"center"}},[a(o.notas,p)!==null?(l(),n("div",q,[o.notas[a(o.notas,p)]?(l(),n("div",T,r(h(o.notas[a(o.notas,p)].nota)),1)):(l(),n("div",Y,K))])):(l(),n("div",Q,"--"))])),64))]))),128))])])])]),_:1})}}};export{dt as default};
