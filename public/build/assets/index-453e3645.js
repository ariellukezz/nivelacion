import{r as d,u as H,c as k,a as e,b as t,w as n,F as J,o as A,Z as K,d as i,e as h,n as p,g as Q}from"./app-faeb0e8d.js";import{A as W}from"./AuthenticatedLayout-0340aa55.js";import{s as Y,a as r}from"./TopMenu-19b80a18.js";import{s as ee,a as _}from"./tabpanel.esm-2f454917.js";import{s as g,a as s}from"./column.esm-2ed38893.js";import{X as j}from"./xlsx-1b9fd3e1.js";import{_ as te}from"./_plugin-vue_export-helper-c27b6911.js";import"./basecomponent.esm-f7061737.js";import"./index.esm-123078b8.js";const ae={class:"p-4 bg-white rounded-lg shadow-xs"},se={class:"card"},oe={class:"mb-3"},ie={class:"flex justify-between"},le={key:0},ne={class:"mb-3"},de={class:"flex justify-between"},re={class:"flex justify-center"},ce={class:"mb-3"},ue={class:"flex justify-between"},fe={class:"flex justify-center"},me={__name:"index",setup(he){const u=d(1),D=d([]),b=d([]),v=d([]),c=d([1]),F=H(),f=(a,o,l)=>{F.add({severity:a,summary:o,detail:l,life:3e3})};d(null);const y=d(null),w=d(null),R=a=>{console.log("Selected file",a.target.files[0]),y.value=a.target.files[0]},G=a=>{console.log("Selected file",a.target.files[0]),w.value=a.target.files[0]},L=async()=>{await axios.post("/importar-excel-estudiante",{datos:c.value}).then(a=>{f("success","2",a.data.menssje),x()}).catch(a=>console.log(a))},T=async()=>{let a=new FormData;a.append("img",y.value),await axios.post("/documento/plan",a).then(o=>{f("success","2",o.data.menssje),C()}).catch(o=>console.log(o))},B=async()=>{let a=new FormData;a.append("img",w.value),await axios.post("/documento/informe",a).then(o=>{f("success","2",o.data.menssje),O()}).catch(o=>console.log(o))},x=async()=>{let a=await axios.post("get-resoluciones?page="+u.value,{term:""});D.value=a.data.datos.data},C=async()=>{let a=await axios.post("get-planes?page="+u.value,{term:""});b.value=a.data.datos.data},O=async()=>{let a=await axios.post("get-informes?page="+u.value,{term:""});v.value=a.data.datos.data},E=a=>(window.open(a.url,"_blank","fullscreen=yes"),!1),$=a=>{const o=a.target.files[0],l=new FileReader;l.onload=m=>{const M=new Uint8Array(m.target.result),S=j.read(M,{type:"array"}),z=S.SheetNames[0],U=S.Sheets[z],I=j.utils.sheet_to_json(U,{header:1}),V=I[0],X=I.slice(1).map(P=>{const N={};return V.forEach((Z,q)=>{N[Z]=P[q]}),N});c.value=X},l.readAsArrayBuffer(o)};return x(),C(),O(),(a,o)=>(A(),k(J,null,[e(t(K),{title:"Documentos"}),e(W,null,{default:n(()=>[e(t(Y)),i("div",ae,[i("div",se,[e(t(ee),null,{default:n(()=>[e(t(_),{header:"Estudiantes"},{default:n(()=>[i("div",oe,[i("form",{onSubmit:o[0]||(o[0]=h((...l)=>a.submit&&a.submit(...l),["prevent"]))},[i("div",ie,[i("input",{type:"file",onChange:$},null,32),e(t(r),{label:"Subir",style:{height:"38px"},onClick:L})])],32)]),c.value?(A(),k("div",le,[e(t(g),{value:c.value,class:p("p-datatable-sm"),tableStyle:"min-width: 50rem"},{default:n(()=>[e(t(s),{field:"codigo",header:"CODIGO"}),e(t(s),{field:"dni",header:"DNI"}),e(t(s),{field:"paterno",header:"PATERNO"}),e(t(s),{field:"materno",header:"MATERNO"}),e(t(s),{field:"nombres",header:"NOMBRES"}),e(t(s),{field:"sexo",header:"SEXO"}),e(t(s),{field:"email",header:"EMAIL"}),e(t(s),{field:"f_nacimiento",header:"F NAC"}),e(t(s),{field:"ubigeo_nacimiento",header:"UBIGEO"}),e(t(s),{field:"estado_civil",header:"E_CIVIL"}),e(t(s),{field:"anio_egreso",header:"EGRESO"}),e(t(s),{field:"tipo_colegio",header:"T. COLEGIO"}),e(t(s),{field:"nombre_colegio",header:"COLEGIO"}),e(t(s),{field:"ubigeo_colegio",header:"UB. COLEGIO"}),e(t(s),{field:"apto",header:"INGRESO"}),e(t(s),{field:"direccion",header:"DIRECCION"}),e(t(s),{field:"telefono",header:"TELEFONO"}),e(t(s),{field:"id_programa",header:"ID_PROGRAMA"}),e(t(s),{field:"id_escuela",header:"id_escuela"})]),_:1},8,["value"])])):Q("",!0)]),_:1}),e(t(_),{header:"Datos ingreso"},{default:n(()=>[i("div",ne,[i("form",{onSubmit:o[1]||(o[1]=h((...l)=>a.submit&&a.submit(...l),["prevent"]))},[i("div",de,[i("input",{type:"file",onChange:R},null,32),e(t(r),{label:"Subir",style:{height:"38px"},onClick:T})])],32)]),i("div",null,[e(t(g),{value:b.value,class:p("p-datatable-sm"),tableStyle:"min-width: 50rem"},{default:n(()=>[e(t(s),{field:"nombre",header:"Nombre"}),e(t(s),{field:"tipo",header:"Tipo"}),e(t(s),{field:"fecha",header:"Fecha"}),e(t(s),{field:"id_programa",header:"Acciones",width:"50",style:""},{body:n(({data:l})=>[i("div",re,[e(t(r),{icon:"pi pi-eye",severity:"info","aria-label":"Submit",onClick:m=>E(l),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])]),_:1})]),_:1},8,["value"])])]),_:1}),e(t(_),{header:"Matriz"},{default:n(()=>[i("div",ce,[i("form",{onSubmit:o[2]||(o[2]=h((...l)=>a.submit&&a.submit(...l),["prevent"]))},[i("div",ue,[i("input",{type:"file",onChange:G},null,32),e(t(r),{label:"Subir",style:{height:"38px"},onClick:B})])],32)]),i("div",null,[e(t(g),{value:v.value,class:p("p-datatable-sm"),tableStyle:"min-width: 50rem"},{default:n(()=>[e(t(s),{field:"nombre",header:"Nombre"}),e(t(s),{field:"tipo",header:"Tipo"}),e(t(s),{field:"fecha",header:"Fecha"}),e(t(s),{field:"id_programa",header:"Acciones",width:"50",style:""},{body:n(({data:l})=>[i("div",fe,[e(t(r),{icon:"pi pi-eye",severity:"info",onClick:m=>E(l),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1})])])]),_:1})],64))}},Oe=te(me,[["__scopeId","data-v-3d264e7d"]]);export{Oe as default};
