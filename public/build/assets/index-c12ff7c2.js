import{A as B}from"./AuthenticatedLayout-0520b886.js";import{u as H,k as P,r as d,l as U,c as m,b as s,d as o,w as n,F as k,e as r,Z as Y,f as e,n as J,j as Z,i as w,t as f,m as Q}from"./app-f994730f.js";import{s as h,a as c}from"./index.esm-0e4f3215.js";import{s as q}from"./datatable.esm-f7182f59.js";import{s as v}from"./column.esm-434bfdc1.js";import{s as K,a as N,b as W}from"./TopMenu-f2fc4239.js";import"./dropdown.esm-99078355.js";import{s as X}from"./inputswitch.esm-07258200.js";import{s as ee}from"./confirmpopup.esm-33e070a5.js";import{s as b}from"./radiobutton.esm-0ddcf636.js";import{s as D}from"./divider.esm-52ca8ff3.js";import{s as le}from"./calendar.esm-aba2d05d.js";import{s as te,a as T}from"./tabpanel.esm-c01e4891.js";import{s as $}from"./checkbox.esm-3927d267.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./inputnumber.esm-8769ed9c.js";import"./basecomponent.esm-b559aace.js";import"./index.esm-724f1086.js";const ae={class:"bg-white shadow-xs p-4",style:{height:"calc(100vh - 110px)","font-family":"Arial, Helvetica, sans-serif"}},se={class:"flex",style:{"justify-content":"space-between"}},oe={class:"p-input-icon-left"},ie=e("i",{class:"pi pi-search"},null,-1),de={class:"card"},ne=e("div",{class:"flex justify-content-center mb-4"},null,-1),ue={class:"flex",style:{"justify-content":"flex-start"}},re={class:"flex",style:{"justify-content":"center"}},ce={key:0},ve={key:1},me={class:"flex"},pe={class:"mr-2"},_e={style:{}},fe={class:"flex mt-0 mb-3 align-items-center",style:{"justify-content":"flex-end"}},he={class:"flex flex-wrap mr-0"},ye=e("div",{class:"mr-2"},[e("label",null,"Tipo doc ")],-1),xe={class:"flex"},be={class:"flex align-items-center mr-2"},ge=e("label",{for:"ingredient1",class:"ml-2"},"DNI",-1),we={class:"flex align-items-center"},Ve=e("label",{for:"ingredient2",class:"ml-2"},"C. Ext",-1),Ce={class:"flex flex-wrap mr-0"},Ae=e("div",{class:"mr-2"},[e("label",null,"Sexo ")],-1),Ie={class:"flex"},Ee={class:"flex align-items-center mr-2"},Ue=e("label",{for:"ingredient1",class:"ml-2"},"M",-1),ke={class:"flex align-items-center"},Ne=e("label",{for:"ingredient2",class:"ml-2"},"F",-1),De={class:"mr-3"},Te=e("label",null,"Estado",-1),$e={class:"flex",style:{width:"100%","justify-content":"space-between"}},je={class:"mb-2",style:{width:"48%"}},ze=e("div",null,[e("label",null,"Nro documento")],-1),Se={class:"mb-2",style:{width:"48%"}},Re=e("div",null,[e("label",null,"Nombres")],-1),Oe={class:"flex",style:{width:"100%","justify-content":"space-between"}},Le={class:"mb-2",style:{width:"48%"}},Me=e("div",null,[e("label",null,"Primer apellido")],-1),Fe={class:"mb-2",style:{width:"48%"}},Ge=e("div",null,[e("label",null,"Segundo apellido")],-1),Be={class:"flex",style:{width:"100%","justify-content":"space-between"}},He={class:"mb-2",style:{width:"23%"}},Pe=e("div",null,[e("label",null,"Celular")],-1),Ye={class:"mb-2",style:{width:"73%"}},Je=e("div",null,[e("label",null,"Correo")],-1),Ze={class:"flex",style:{width:"100%","justify-content":"space-between","margin-bottom":"-20px"}},Qe={class:"",style:{width:"73%"}},qe=e("div",null,[e("label",null,"Dirección")],-1),Ke={class:"",style:{width:"23%"}},We=e("div",null,[e("label",null,"Fecha nacimiento")],-1),Xe={style:{height:"340px"}},el={class:"flex mt-5",style:{width:"100%","justify-content":"space-between","margin-bottom":"-20px"}},ll={class:"",style:{width:"100%"}},tl=e("div",{class:"mb-2"},[e("h2",null,"Habilidades")],-1),al={style:{"column-count":"2"}},sl={key:0,class:"flex"},ol={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},il=["for"],dl={key:1,class:"flex"},nl={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},ul=["for"],rl={class:"flex",style:{"justify-content":"flex-end"}},Nl={__name:"index",setup(cl){const V=H(),j=P(),z=d([]),S=d(0),C=d(1),y=d(""),A=d([]),u=d(!1),g=d("");d();const l=d({id:null,tipo_doc:1,nro_doc:"",nombres:"",primer_apellido:"",segundo_apellido:"",celular:"",correo:"",direccion:"",fecha:"",sexo:"M",estado:!0}),x=async i=>{let t=await axios.post("get-docentes?page="+C.value,{term:y.value});A.value=t.data.datos.data,S.value=t.data.datos.total},R=async()=>{let i=await axios.post("get-programas?page="+C.value,{term:""});z.value=i.data.datos.data},O=async()=>{let i=null;l.value.fecha!=null&&l.value.fecha!==g.value?i=l.value.fecha.toISOString().substring(0,10):i=l.value.fecha;let t=await axios.post("save-docentex",{id:l.value.id,tipo_doc:l.value.tipo_doc,nro_doc:l.value.nro_doc,nombres:l.value.nombres,primer_apellido:l.value.primer_apellido,segundo_apellido:l.value.segundo_apellido,celular:l.value.celular,correo:l.value.correo,direccion:l.value.direccion,fecha:i,sexo:l.value.sexo,estado:l.value.estado,competencias:_.value});E(t.data.tipo,t.data.titulo,t.data.mensaje),x(),u.value=!1,limpiar()},L=async i=>{let t=await axios.get("delete-docente/"+i);E(t.data.tipo,t.data.titulo,t.data.mensaje),x()},I=d(!1),M=async i=>{u.value=!0,I.value=!0,l.value.id=i.id,l.value.tipo_doc=i.tipo_doc,l.value.nro_doc=i.nro_doc,l.value.nombres=i.nombres,l.value.primer_apellido=i.paterno,l.value.segundo_apellido=i.materno,l.value.celular=i.telefono,l.value.correo=i.email,l.value.direccion=i.direccion,l.value.fecha=i.f_nac,g.value=i.f_nac,l.value.sexo=i.sexo,i.estado===1?l.value.estado=!0:l.value.estado=!1};U(u,(i,t)=>{I.value==!0&&u.value==!1&&(u.value=!1,l.value.id=null,l.value.tipo_doc=1,l.value.nro_doc=null,l.value.nombres=null,l.value.primer_apellido=null,l.value.segundo_apellido=null,l.value.celular=null,l.value.correo=null,l.value.direccion=null,l.value.fecha=null,g.value=null,l.value.sexo="M",l.value.estado=!0)}),U(y,(i,t)=>{x()});const E=(i,t,a)=>{V.add({severity:i,summary:t,detail:a,life:3e3})},F=(i,t)=>{j.require({target:i.currentTarget,message:"¿Estas seguro de eliminar al docente "+t.nombres+"?",icon:"pi pi-info-circle",acceptClass:"p-button-danger",accept:()=>{L(t.id)},reject:()=>{V.add({severity:"error",summary:"Elimación cancelada",detail:"Se ha cancelado la eliminación del docente "+t.nombres,life:3e3})}})};x(),R();const G=d([{value:1,name:"EDUCACION CIVICA"},{value:2,name:"HISTORIA Y GEOGRAFÍA"},{value:3,name:"EDUCACIÓN FISICA"},{value:4,name:"ARTE Y CULTURA"},{value:5,name:"LENGUAJE: LITERATURA, RAZONAMIENTO VERBAL, INGLES, QUECHUA Y AIMARA"},{value:6,name:"FISICA, QUIMICA Y BIOLOGÍA"},{value:7,name:"MATEMÁTICA"},{value:8,name:"EDUCACIÓN PARA EL TRABAJO, ECONOMÍA"},{value:9,name:"TIC"},{value:10,name:"ESTRATEGIA DE APRENDIZAJE"},{value:11,name:"RELIGIÓN"}]),_=d([]);return(i,t)=>(r(),m(k,null,[s(o(Y),{title:"Tutores"}),s(B,null,{default:n(()=>[e("div",ae,[e("div",null,[e("div",se,[s(o(h),{label:"Nuevo",onClick:t[0]||(t[0]=a=>u.value=!0),size:"small",style:{height:"40px"}}),e("span",oe,[ie,s(o(c),{modelValue:y.value,"onUpdate:modelValue":t[1]||(t[1]=a=>y.value=a),style:{"padding-left":"40px",height:"40px"},placeholder:"Search"},null,8,["modelValue"])])])]),s(o(K)),s(o(ee)),e("div",null,[e("div",de,[ne,s(o(q),{value:A.value,class:J("p-datatable-sm"),tableStyle:"min-width: 50rem",style:{"font-size":".9rem"}},{default:n(()=>[s(o(v),{field:"nro_doc",header:"N° Doc"}),i.conf_codigo===!0?(r(),Z(o(v),{key:0,field:"Codigo",header:"Código"})):w("",!0),s(o(v),{field:"nombres",header:"Nombres"},{body:n(({data:a})=>[e("div",ue,[e("div",null,f(a.nombres)+" "+f(a.paterno)+" "+f(a.materno),1)])]),_:1}),s(o(v),{field:"sexo",header:"Sexo"}),s(o(v),{field:"telefono",header:"Celular"}),s(o(v),{field:"email",header:"Correo"}),s(o(v),{field:"estado",style:{"justify-content":"center",display:"flex"},header:"Estado",width:"70px"},{body:n(({data:a})=>[e("div",re,[a.estado===1?(r(),m("div",ce,[s(o(N),{severity:"info",value:"Activo"})])):w("",!0),a.estado===0?(r(),m("div",ve,[s(o(N),{style:{background:"#CDCDCD"},value:"Inactivo"})])):w("",!0)])]),_:1}),s(o(v),{field:"id_programa",header:"Acciones",width:"90px"},{body:n(({data:a})=>[e("div",me,[e("div",pe,[s(o(h),{class:"secondary",icon:"pi pi-pencil","aria-label":"Submit",onClick:p=>M(a),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])]),s(o(h),{icon:"pi pi-trash",severity:"danger","aria-label":"Submit",onClick:p=>F(p,a),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])]),_:1})]),_:1},8,["value"])])]),s(o(W),{visible:u.value,"onUpdate:visible":t[18]||(t[18]=a=>u.value=a),header:"Docente Nuevo",style:{width:"60vw",height:"600px"}},{footer:n(()=>[e("div",rl,[e("div",null,[s(o(h),{label:"Cancelar",outlined:"",onClick:t[17]||(t[17]=a=>u.value=!1),size:"small"})]),s(o(h),{label:"Guardar",onClick:O,size:"small"})])]),default:n(()=>[e("div",_e,[s(o(te),null,{default:n(()=>[s(o(T),{header:"Datos Docente"},{default:n(()=>[e("div",fe,[e("div",he,[e("div",null,[ye,e("div",xe,[e("div",be,[s(o(b),{modelValue:l.value.tipo_doc,"onUpdate:modelValue":t[2]||(t[2]=a=>l.value.tipo_doc=a),name:"pizza",value:1},null,8,["modelValue"]),ge]),e("div",we,[s(o(b),{modelValue:l.value.tipo_doc,"onUpdate:modelValue":t[3]||(t[3]=a=>l.value.tipo_doc=a),name:"pizza",value:2},null,8,["modelValue"]),Ve])])])]),s(o(D),{layout:"vertical"}),e("div",Ce,[e("div",null,[Ae,e("div",Ie,[e("div",Ee,[s(o(b),{modelValue:l.value.sexo,"onUpdate:modelValue":t[4]||(t[4]=a=>l.value.sexo=a),name:"pizza",value:"M"},null,8,["modelValue"]),Ue]),e("div",ke,[s(o(b),{modelValue:l.value.sexo,"onUpdate:modelValue":t[5]||(t[5]=a=>l.value.sexo=a),name:"pizza",value:"F"},null,8,["modelValue"]),Ne])])])]),s(o(D),{layout:"vertical"}),e("div",De,[Te,e("div",null,[s(o(X),{modelValue:l.value.estado,"onUpdate:modelValue":t[6]||(t[6]=a=>l.value.estado=a)},null,8,["modelValue"])])])]),e("div",$e,[e("div",je,[ze,s(o(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.nro_doc,"onUpdate:modelValue":t[7]||(t[7]=a=>l.value.nro_doc=a)},null,8,["modelValue"])]),e("div",Se,[Re,s(o(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.nombres,"onUpdate:modelValue":t[8]||(t[8]=a=>l.value.nombres=a)},null,8,["modelValue"])])]),e("div",Oe,[e("div",Le,[Me,s(o(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.primer_apellido,"onUpdate:modelValue":t[9]||(t[9]=a=>l.value.primer_apellido=a)},null,8,["modelValue"])]),e("div",Fe,[Ge,s(o(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.segundo_apellido,"onUpdate:modelValue":t[10]||(t[10]=a=>l.value.segundo_apellido=a)},null,8,["modelValue"])])]),e("div",Be,[e("div",He,[Pe,s(o(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.celular,"onUpdate:modelValue":t[11]||(t[11]=a=>l.value.celular=a)},null,8,["modelValue"])]),e("div",Ye,[Je,s(o(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.correo,"onUpdate:modelValue":t[12]||(t[12]=a=>l.value.correo=a)},null,8,["modelValue"])])]),e("div",Ze,[e("div",Qe,[qe,s(o(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.direccion,"onUpdate:modelValue":t[13]||(t[13]=a=>l.value.direccion=a)},null,8,["modelValue"])]),e("div",Ke,[We,s(o(le),{style:{width:"100%",height:"40px"},dateFormat:"dd/mm/yy",modelValue:l.value.fecha,"onUpdate:modelValue":t[14]||(t[14]=a=>l.value.fecha=a)},null,8,["modelValue"])])])]),_:1}),s(o(T),{header:"Docente usuario"},{default:n(()=>[e("div",Xe,[e("div",el,[e("div",ll,[tl,e("div",al,[(r(!0),m(k,null,Q(G.value,a=>(r(),m("div",{key:a.key,class:"mb-2",style:{"font-size":".9rem"}},[a.value%2===0?(r(),m("div",sl,[s(o($),{modelValue:_.value,"onUpdate:modelValue":t[15]||(t[15]=p=>_.value=p),inputId:a.key,class:"mr-2",name:"category",value:a.value},null,8,["modelValue","inputId","value"]),e("div",ol,[e("label",{for:a.key},f(a.name),9,il)])])):(r(),m("div",dl,[s(o($),{modelValue:_.value,"onUpdate:modelValue":t[16]||(t[16]=p=>_.value=p),inputId:a.key,class:"mr-2",name:"category",value:a.value},null,8,["modelValue","inputId","value"]),e("div",nl,[e("label",{for:a.key},f(a.name),9,ul)])]))]))),128))])])])])]),_:1})]),_:1})])]),_:1},8,["visible"])])]),_:1})],64))}};export{Nl as default};
