import{A as z}from"./LayoutSupervisor-6b638fac.js";import{o as h,c as C,n as g,u as U,r,j as y,a,b as l,w as u,F as k,Z as M,e as t,t as S,l as O,h as R}from"./app-88bcaba7.js";import{b as L,s as B,a as v}from"./column.esm-a19fb227.js";import{b as P,a as c,c as F,s as H}from"./TopMenu-eb4b14f4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./NavigationMobile-2e48d19c.js";var T={name:"Textarea",emits:["update:modelValue"],props:{modelValue:null,autoResize:Boolean},mounted(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize(){const d=window.getComputedStyle(this.$el);this.$el.style.height="auto",this.$el.style.height=`calc(${d.borderTopWidth} + ${d.borderBottomWidth} + ${this.$el.scrollHeight}px)`,parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput(d){this.autoResize&&this.resize(),this.$emit("update:modelValue",d.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const j=["value"];function Y(d,p,m,o,n,I){return h(),C("textarea",{class:g(["p-inputtextarea p-inputtext p-component",{"p-filled":I.filled,"p-inputtextarea-resizable ":m.autoResize}]),value:m.modelValue,onInput:p[0]||(p[0]=(...A)=>I.onInput&&I.onInput(...A))},null,42,j)}function Q(d,p){p===void 0&&(p={});var m=p.insertAt;if(!(!d||typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",m==="top"&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=d:n.appendChild(document.createTextNode(d))}}var W=`
.p-inputtextarea-resizable {
    overflow: hidden;
    resize: none;
}
.p-fluid .p-inputtextarea {
    width: 100%;
}
`;Q(W);T.render=Y;const Z={class:"flex justify-between"},J={class:"flex",style:{width:"100%","justify-content":"space-between"}},q={class:"mb-3",style:{width:"240px"}},K={class:"flex align-items-center",style:{width:"400px","font-size":"0.9rem","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},X={class:"p-input-icon-left"},ee=t("i",{class:"pi pi-search"},null,-1),le={class:"mt-3"},ae=t("i",{class:"pi pi-download",style:{color:"green"}},null,-1),te={class:"flex"},se={class:"mr-2"},ie={class:"flex"},oe={class:"mr-2"},ne={key:0},de={key:1},ue={key:2},re={class:"mr-2"},ce=t("div",null,null,-1),pe={class:"w-full"},Ie={class:"flex justify-end"},Ce={__name:"asignacion",setup(d){const p=U(),m=(i,s,e)=>{p.add({severity:i,summary:s,detail:e,life:3e3})},o=r(!1),n=r(1),I=r(null),A=r(null),_=r(0),w=r([]),x=r(10);y(I,(i,s)=>{b()}),y(A,(i,s)=>{b()}),y(x,(i,s)=>{b()});const b=async()=>{let i=await axios.post("get-documentos?page="+n.value,{term:I.value,paginashoja:x.value,programa:A.value});w.value=i.data.datos.data,_.value=i.data.datos.total},V=i=>{window.open("../"+i,"_blank")},E=r({}),$=async()=>{await axios.post("observar-documento",E.value),b(),m("info","DOCUMENTO OBSERVADO",""),o.value=!1,E.value={}},N=async i=>{await axios.post("cambiar-estado-documento",i),b(),m("info","ESTADO MODIFICADO","")},G=i=>{o.value=!0,E.value=i},D=r([{value:1,label:"INGENIERIA AGRONOMICA"},{value:2,label:"INGENIERIA AGROINDUSTRIAL"},{value:3,label:"INGENIERIA TOPOGRAFICA Y AGRIMENSURA"},{value:4,label:"MEDICINA VETERINARIA Y ZOOTECNIA"},{value:5,label:"INGENIERIA ECONOMICA"},{value:6,label:"CIENCIAS CONTABLES"},{value:7,label:"ADMINISTRACION"},{value:8,label:"TRABAJO SOCIAL"},{value:9,label:"ENFERMERIA"},{value:10,label:"INGENIERIA DE MINAS"},{value:11,label:"HUMANIDADES"},{value:12,label:"SOCIOLOGIA"},{value:13,label:"TURISMO"},{value:14,label:"ANTROPOLOGIA"},{value:15,label:"CIENCIAS DE LA COMUNICACION SOCIAL"},{value:16,label:"ARTE"},{value:17,label:"BIOLOGIA"},{value:18,label:"EDUCACION SECUNDARIA"},{value:19,label:"EDUCACION PRIMARIA"},{value:20,label:"EDUCACION INICIAL"},{value:21,label:"EDUCACION FISICA"},{value:22,label:"INGENIERIA ESTADISTICA E INFORMATICA"},{value:23,label:"DERECHO"},{value:24,label:"INGENIERIA QUIMICA"},{value:25,label:"ODONTOLOGIA"},{value:26,label:"NUTRICION HUMANA"},{value:27,label:"INGENIERIA GEOLOGICA"},{value:28,label:"INGENIERIA METALURGICA"},{value:29,label:"INGENIERIA CIVIL"},{value:30,label:"ARQUITECTURA Y URBANISMO"},{value:31,label:"CIENCIAS FISICO MATEMATICAS"},{value:32,label:"INGENIERIA AGRICOLA"},{value:33,label:"MEDICINA HUMANA"},{value:34,label:"INGENIERIA MECANICA ELECTRICA"},{value:35,label:"INGENIERIA ELECTRONICA"},{value:36,label:"INGENIERIA DE SISTEMAS"},{value:37,label:"PSICOLOGIA"}]);return b(),(i,s)=>(h(),C(k,null,[a(l(M),{title:"Documentos"}),a(z,null,{default:u(()=>[t("div",Z,[t("div",J,[t("div",q,[a(l(L),{modelValue:A.value,"onUpdate:modelValue":s[0]||(s[0]=e=>A.value=e),options:D.value,filter:"",optionLabel:"label",optionValue:"value",placeholder:"Seleccione escuela profesional",style:{width:"100%"},class:"w-full md:w-11rem"},{option:u(e=>[t("div",K,[t("div",null,S(e.option.label),1)])]),_:1},8,["modelValue","options"])])]),t("span",X,[ee,a(l(P),{modelValue:I.value,"onUpdate:modelValue":s[1]||(s[1]=e=>I.value=e),placeholder:"Search"},null,8,["modelValue"])])]),t("div",le,[a(l(B),{showGridlines:!1,value:w.value,paginator:"",rows:10,totalRecords:_.value,rowsPerPageOptions:[10,20,50],currentPage:n.value,class:g("p-datatable-sm"),tableStyle:"min-width: 50rem",style:{"font-size":".9rem"}},{default:u(()=>[a(l(v),{field:"tipo",header:"TIPO"}),a(l(v),{field:"escuela",header:"ESCUELA PROFESIONAL"}),a(l(v),{field:"fecha_subida",header:"FECHA"}),a(l(v),{field:"username",header:"USUARIO"}),a(l(v),{field:"url",header:"Ver Documento",style:{"min-width":"12rem"}},{body:u(({data:e})=>[a(l(c),{label:"Link",onClick:f=>V(e.url),link:""},{default:u(()=>[ae]),_:2},1032,["onClick"])]),_:1}),a(l(v),{field:"id_programa",header:"Estado",width:"90px"},{body:u(({data:e})=>[t("div",te,[t("div",se,[e.aceptado===1?(h(),O(l(c),{key:0,severity:"success",label:"Aceptado","aria-label":"Submit",size:"small",style:{width:"90px",height:"25px"}})):e.aceptado===0?(h(),O(l(c),{key:1,severity:"danger",label:"Rechazado","aria-label":"Submit",size:"small",style:{width:"90px",height:"25px"}})):(h(),O(l(c),{key:2,severity:"secondary",label:"Pendiente","aria-label":"Submit",size:"small",style:{width:"90px",height:"25px"}}))])])]),_:1}),a(l(v),{header:"Observaciones"},{body:u(({data:e})=>[t("div",null,S(e.obser),1)]),_:1}),a(l(v),{field:"id_programa",header:"Acciones",width:"90px"},{body:u(({data:e})=>[t("div",ie,[t("div",oe,[e.aceptado==1?(h(),C("div",ne,[a(l(c),{severity:"success",icon:"pi pi-check","aria-label":"Submit",onClick:f=>N(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])):R("",!0),e.aceptado==0?(h(),C("div",de,[a(l(c),{severity:"danger",icon:"pi pi-times","aria-label":"Submit",onClick:f=>N(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])):R("",!0),e.aceptado==null?(h(),C("div",ue,[a(l(c),{severity:"secondary",icon:"pi pi-spinner",label:"",onClick:f=>N(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])):R("",!0)]),t("div",re,[a(l(c),{class:"secondary",icon:"pi pi-pencil","aria-label":"Submit",onClick:f=>G(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])])]),_:1})]),_:1},8,["value","totalRecords","currentPage"]),ce]),a(l(F),{visible:o.value,"onUpdate:visible":s[4]||(s[4]=e=>o.value=e),modal:"",header:"ObservaciÃ³n",style:{width:"25rem"}},{footer:u(()=>[t("div",Ie,[a(l(c),{icon:"pi pi-save",label:"Observar",severity:"success","aria-label":"Submit",onClick:s[3]||(s[3]=e=>$()),size:"small",style:{height:"25px"}})])]),default:u(()=>[t("div",pe,[t("div",null,[a(l(T),{modelValue:E.value.obser,"onUpdate:modelValue":s[2]||(s[2]=e=>E.value.obser=e),style:{width:"100%"},variant:"filled",rows:"6"},null,8,["modelValue"])])])]),_:1},8,["visible"]),a(l(H))]),_:1})],64))}};export{Ce as default};
