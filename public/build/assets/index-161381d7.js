import{A as G}from"./AuthenticatedLayout-a1c9cc5d.js";import{u as B,g as H,r as d,h as U,c as m,a as o,b as s,w as n,F as k,o as r,Z as Y,d as e,n as J,k as P,f as g,t as h,j as Z}from"./app-a329af35.js";import{a as f,b as c,s as q,c as Q}from"./NavigationMobile-ca5e61f2.js";import{s as K,a as v}from"./column.esm-4ca70007.js";import{s as W,a as X}from"./confirmpopup.esm-2ab03fc2.js";import{s as b}from"./radiobutton.esm-c3459c99.js";import{s as N,a as ee}from"./calendar.esm-4191835c.js";import{s as D}from"./tag.esm-8637022e.js";import{s as le,a as T}from"./tabpanel.esm-4c386388.js";import{s as $}from"./checkbox.esm-1184328e.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./basecomponent.esm-a5c1d633.js";import"./index.esm-208accc1.js";const te={class:"bg-white shadow-xs p-4",style:{height:"calc(100vh - 110px)","font-family":"Arial, Helvetica, sans-serif"}},ae={class:"flex",style:{"justify-content":"space-between"}},oe={class:"p-input-icon-left"},se=e("i",{class:"pi pi-search"},null,-1),ie={class:"card"},de=e("div",{class:"flex justify-content-center mb-4"},null,-1),ne={class:"flex",style:{"justify-content":"flex-start"}},ue={class:"flex",style:{"justify-content":"center"}},re={key:0},ce={key:1},ve={class:"flex"},me={class:"mr-2"},pe={style:{}},_e={class:"flex mt-0 mb-3 align-items-center",style:{"justify-content":"flex-end"}},he={class:"flex flex-wrap mr-0"},fe=e("div",{class:"mr-2"},[e("label",null,"Tipo doc ")],-1),ye={class:"flex"},xe={class:"flex align-items-center mr-2"},be=e("label",{for:"ingredient1",class:"ml-2"},"DNI",-1),we={class:"flex align-items-center"},ge=e("label",{for:"ingredient2",class:"ml-2"},"C. Ext",-1),Ve={class:"flex flex-wrap mr-0"},Ce=e("div",{class:"mr-2"},[e("label",null,"Sexo ")],-1),Ae={class:"flex"},Ie={class:"flex align-items-center mr-2"},Ee=e("label",{for:"ingredient1",class:"ml-2"},"M",-1),Ue={class:"flex align-items-center"},ke=e("label",{for:"ingredient2",class:"ml-2"},"F",-1),Ne={class:"mr-3"},De=e("label",null,"Estado",-1),Te={class:"flex",style:{width:"100%","justify-content":"space-between"}},$e={class:"mb-2",style:{width:"48%"}},je=e("div",null,[e("label",null,"Nro documento")],-1),ze={class:"mb-2",style:{width:"48%"}},Se=e("div",null,[e("label",null,"Nombres")],-1),Re={class:"flex",style:{width:"100%","justify-content":"space-between"}},Oe={class:"mb-2",style:{width:"48%"}},Le=e("div",null,[e("label",null,"Primer apellido")],-1),Me={class:"mb-2",style:{width:"48%"}},Fe=e("div",null,[e("label",null,"Segundo apellido")],-1),Ge={class:"flex",style:{width:"100%","justify-content":"space-between"}},Be={class:"mb-2",style:{width:"23%"}},He=e("div",null,[e("label",null,"Celular")],-1),Ye={class:"mb-2",style:{width:"73%"}},Je=e("div",null,[e("label",null,"Correo")],-1),Pe={class:"flex",style:{width:"100%","justify-content":"space-between","margin-bottom":"-20px"}},Ze={class:"",style:{width:"73%"}},qe=e("div",null,[e("label",null,"Dirección")],-1),Qe={class:"",style:{width:"23%"}},Ke=e("div",null,[e("label",null,"Fecha nacimiento")],-1),We={style:{height:"340px"}},Xe={class:"flex mt-5",style:{width:"100%","justify-content":"space-between","margin-bottom":"-20px"}},el={class:"",style:{width:"100%"}},ll=e("div",{class:"mb-2"},[e("h2",null,"Habilidades")],-1),tl={style:{"column-count":"2"}},al={key:0,class:"flex"},ol={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},sl=["for"],il={key:1,class:"flex"},dl={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},nl=["for"],ul={class:"flex",style:{"justify-content":"flex-end"}},Cl={__name:"index",setup(rl){const V=B(),j=H();d([]);const z=d(0),C=d(1),y=d(""),A=d([]),u=d(!1),w=d("");d();const l=d({id:null,tipo_doc:1,nro_doc:"",nombres:"",primer_apellido:"",segundo_apellido:"",celular:"",correo:"",direccion:"",fecha:"",sexo:"M",estado:!0}),x=async i=>{let t=await axios.post("/coordinador/get-docentes?page="+C.value,{term:y.value});A.value=t.data.datos.data,z.value=t.data.datos.total},S=async i=>{let t=await axios.post("/coordinador/get-competencia-x-docente?page="+C.value,{id_docente:i});p.value=t.data.datos},R=async()=>{let i=null;l.value.fecha!=null&&l.value.fecha!==w.value?i=l.value.fecha.toISOString().substring(0,10):i=l.value.fecha;let t=await axios.post("/coordinador/save-docente",{id:l.value.id,tipo_doc:l.value.tipo_doc,nro_doc:l.value.nro_doc,nombres:l.value.nombres,primer_apellido:l.value.primer_apellido,segundo_apellido:l.value.segundo_apellido,celular:l.value.celular,correo:l.value.correo,direccion:l.value.direccion,fecha:i,sexo:l.value.sexo,estado:l.value.estado,competencias:p.value});E(t.data.tipo,t.data.titulo,t.data.mensaje),x(),u.value=!1,limpiar()},O=async i=>{let t=await axios.get("delete-docente/"+i);E(t.data.tipo,t.data.titulo,t.data.mensaje),x()},I=d(!1),L=async i=>{S(i.id),u.value=!0,I.value=!0,l.value.id=i.id,l.value.tipo_doc=i.tipo_doc,l.value.nro_doc=i.nro_doc,l.value.nombres=i.nombres,l.value.primer_apellido=i.paterno,l.value.segundo_apellido=i.materno,l.value.celular=i.telefono,l.value.correo=i.email,l.value.direccion=i.direccion,l.value.fecha=i.f_nac,w.value=i.f_nac,l.value.sexo=i.sexo,i.estado===1?l.value.estado=!0:l.value.estado=!1};U(u,(i,t)=>{I.value==!0&&u.value==!1&&(u.value=!1,l.value.id=null,l.value.tipo_doc=1,l.value.nro_doc=null,l.value.nombres=null,l.value.primer_apellido=null,l.value.segundo_apellido=null,l.value.celular=null,l.value.correo=null,l.value.direccion=null,l.value.fecha=null,w.value=null,l.value.sexo="M",l.value.estado=!0)}),U(y,(i,t)=>{x()});const E=(i,t,a)=>{V.add({severity:i,summary:t,detail:a,life:3e3})},M=(i,t)=>{j.require({target:i.currentTarget,message:"¿Estas seguro de eliminar al docente "+t.nombres+"?",icon:"pi pi-info-circle",acceptClass:"p-button-danger",accept:()=>{O(t.id)},reject:()=>{V.add({severity:"error",summary:"Elimación cancelada",detail:"Se ha cancelado la eliminación del docente "+t.nombres,life:3e3})}})};x();const F=d([{value:1,name:"(C1) EDUCACION CIVICA"},{value:2,name:"(C2) HISTORIA Y GEOGRAFÍA"},{value:3,name:"(C3) EDUCACIÓN FISICA"},{value:4,name:"(C4) ARTE Y CULTURA"},{value:5,name:"(C5) LENGUAJE: LITERATURA, RAZONAMIENTO VERBAL, INGLES, QUECHUA Y AIMARA"},{value:6,name:"(C6) FISICA, QUIMICA Y BIOLOGÍA"},{value:7,name:"(C7) MATEMÁTICA"},{value:8,name:"(C8) EDUCACIÓN PARA EL TRABAJO, ECONOMÍA"},{value:9,name:"(C9) TIC"},{value:10,name:"(C10) ESTRATEGIA DE APRENDIZAJE"},{value:11,name:"(C11) RELIGIÓN"}]),p=d([]);return(i,t)=>(r(),m(k,null,[o(s(Y),{title:"Tutores"}),o(G,null,{default:n(()=>[e("div",te,[e("div",null,[e("div",ae,[o(s(f),{label:"Nuevo",onClick:t[0]||(t[0]=a=>u.value=!0),size:"small",style:{height:"40px"}}),e("span",oe,[se,o(s(c),{modelValue:y.value,"onUpdate:modelValue":t[1]||(t[1]=a=>y.value=a),style:{"padding-left":"40px",height:"40px"},placeholder:"Search"},null,8,["modelValue"])])])]),o(s(q)),o(s(W)),e("div",null,[e("div",ie,[de,o(s(K),{value:A.value,class:J("p-datatable-sm"),tableStyle:"min-width: 50rem",style:{"font-size":".9rem"}},{default:n(()=>[o(s(v),{field:"nro_doc",header:"N° Doc"}),i.conf_codigo===!0?(r(),P(s(v),{key:0,field:"Codigo",header:"Código"})):g("",!0),o(s(v),{field:"nombres",header:"Nombres"},{body:n(({data:a})=>[e("div",ne,[e("div",null,h(a.nombres)+" "+h(a.paterno)+" "+h(a.materno),1)])]),_:1}),o(s(v),{field:"sexo",header:"Sexo"}),o(s(v),{field:"telefono",header:"Celular"}),o(s(v),{field:"email",header:"Correo"}),o(s(v),{field:"estado",style:{"justify-content":"center",display:"flex"},header:"Estado",width:"70px"},{body:n(({data:a})=>[e("div",ue,[a.estado===1?(r(),m("div",re,[o(s(D),{severity:"info",value:"Activo"})])):g("",!0),a.estado===0?(r(),m("div",ce,[o(s(D),{style:{background:"#CDCDCD"},value:"Inactivo"})])):g("",!0)])]),_:1}),o(s(v),{field:"id_programa",header:"Acciones",width:"90px"},{body:n(({data:a})=>[e("div",ve,[e("div",me,[o(s(f),{class:"secondary",icon:"pi pi-pencil","aria-label":"Submit",onClick:_=>L(a),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])]),o(s(f),{icon:"pi pi-trash",severity:"danger","aria-label":"Submit",onClick:_=>M(_,a),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])]),_:1})]),_:1},8,["value"])])]),o(s(Q),{visible:u.value,"onUpdate:visible":t[18]||(t[18]=a=>u.value=a),header:"Docente Nuevo",style:{width:"60vw",height:"600px"}},{footer:n(()=>[e("div",ul,[e("div",null,[o(s(f),{label:"Cancelar",outlined:"",onClick:t[17]||(t[17]=a=>u.value=!1),size:"small"})]),o(s(f),{label:"Guardar",onClick:R,size:"small"})])]),default:n(()=>[e("div",pe,[o(s(le),null,{default:n(()=>[o(s(T),{header:"Datos Docente"},{default:n(()=>[e("div",_e,[e("div",he,[e("div",null,[fe,e("div",ye,[e("div",xe,[o(s(b),{modelValue:l.value.tipo_doc,"onUpdate:modelValue":t[2]||(t[2]=a=>l.value.tipo_doc=a),name:"pizza",value:1},null,8,["modelValue"]),be]),e("div",we,[o(s(b),{modelValue:l.value.tipo_doc,"onUpdate:modelValue":t[3]||(t[3]=a=>l.value.tipo_doc=a),name:"pizza",value:2},null,8,["modelValue"]),ge])])])]),o(s(N),{layout:"vertical"}),e("div",Ve,[e("div",null,[Ce,e("div",Ae,[e("div",Ie,[o(s(b),{modelValue:l.value.sexo,"onUpdate:modelValue":t[4]||(t[4]=a=>l.value.sexo=a),name:"pizza",value:"M"},null,8,["modelValue"]),Ee]),e("div",Ue,[o(s(b),{modelValue:l.value.sexo,"onUpdate:modelValue":t[5]||(t[5]=a=>l.value.sexo=a),name:"pizza",value:"F"},null,8,["modelValue"]),ke])])])]),o(s(N),{layout:"vertical"}),e("div",Ne,[De,e("div",null,[o(s(X),{modelValue:l.value.estado,"onUpdate:modelValue":t[6]||(t[6]=a=>l.value.estado=a)},null,8,["modelValue"])])])]),e("div",Te,[e("div",$e,[je,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.nro_doc,"onUpdate:modelValue":t[7]||(t[7]=a=>l.value.nro_doc=a)},null,8,["modelValue"])]),e("div",ze,[Se,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.nombres,"onUpdate:modelValue":t[8]||(t[8]=a=>l.value.nombres=a)},null,8,["modelValue"])])]),e("div",Re,[e("div",Oe,[Le,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.primer_apellido,"onUpdate:modelValue":t[9]||(t[9]=a=>l.value.primer_apellido=a)},null,8,["modelValue"])]),e("div",Me,[Fe,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.segundo_apellido,"onUpdate:modelValue":t[10]||(t[10]=a=>l.value.segundo_apellido=a)},null,8,["modelValue"])])]),e("div",Ge,[e("div",Be,[He,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.celular,"onUpdate:modelValue":t[11]||(t[11]=a=>l.value.celular=a)},null,8,["modelValue"])]),e("div",Ye,[Je,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.correo,"onUpdate:modelValue":t[12]||(t[12]=a=>l.value.correo=a)},null,8,["modelValue"])])]),e("div",Pe,[e("div",Ze,[qe,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:l.value.direccion,"onUpdate:modelValue":t[13]||(t[13]=a=>l.value.direccion=a)},null,8,["modelValue"])]),e("div",Qe,[Ke,o(s(ee),{style:{width:"100%",height:"40px"},dateFormat:"dd/mm/yy",modelValue:l.value.fecha,"onUpdate:modelValue":t[14]||(t[14]=a=>l.value.fecha=a)},null,8,["modelValue"])])])]),_:1}),o(s(T),{header:"Cursos que puede dictar"},{default:n(()=>[e("div",We,[e("div",Xe,[e("div",el,[ll,e("div",tl,[(r(!0),m(k,null,Z(F.value,a=>(r(),m("div",{key:a.key,class:"mb-2",style:{"font-size":".9rem"}},[a.value%2===0?(r(),m("div",al,[o(s($),{modelValue:p.value,"onUpdate:modelValue":t[15]||(t[15]=_=>p.value=_),inputId:a.key,class:"mr-2",name:"category",value:a.value},null,8,["modelValue","inputId","value"]),e("div",ol,[e("label",{for:a.key},h(a.name),9,sl)])])):(r(),m("div",il,[o(s($),{modelValue:p.value,"onUpdate:modelValue":t[16]||(t[16]=_=>p.value=_),inputId:a.key,class:"mr-2",name:"category",value:a.value},null,8,["modelValue","inputId","value"]),e("div",dl,[e("label",{for:a.key},h(a.name),9,nl)])]))]))),128))])])])])]),_:1})]),_:1})])]),_:1},8,["visible"])])]),_:1})],64))}};export{Cl as default};
