import{A as P}from"./AuthenticatedLayout-d0f06eb4.js";import{u as H,h as Y,r as d,i as w,c as p,a as o,b as s,w as n,F as k,o as r,Z as q,d as l,f as J,n as Z,k as Q,g as V,t as f,j as K}from"./app-28a65f8f.js";import{a as h,b as c,s as W,c as X}from"./TopMenu-a7cce80b.js";import{s as ee,a as v}from"./column.esm-34447845.js";import{s as le,a as ae}from"./confirmpopup.esm-d7c6d1eb.js";import{s as b}from"./radiobutton.esm-545beef6.js";import{s as N}from"./calendar.esm-3fa14853.js";import{s as D}from"./tag.esm-f788202d.js";import{s as te,a as T}from"./tabpanel.esm-518e63f7.js";import{s as $}from"./checkbox.esm-c7c2920e.js";import{s as oe}from"./message.esm-9a9566b1.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./basecomponent.esm-f4f029bd.js";import"./index.esm-bc3e156d.js";const se={class:"bg-white shadow-xs p-4",style:{height:"calc(100vh - 110px)","font-family":"Arial, Helvetica, sans-serif"}},ie={class:"card"},de={class:"flex",style:{"justify-content":"space-between"}},ne={class:"p-input-icon-left"},ue=l("i",{class:"pi pi-search"},null,-1),re={class:"card"},ce=l("div",{class:"flex justify-content-center mb-4"},null,-1),ve={class:"flex",style:{"justify-content":"flex-start"}},me={class:"flex",style:{"justify-content":"center"}},pe={key:0},_e={key:1},fe={class:"flex"},he={class:"mr-2"},xe={style:{}},ye={class:"flex mt-0 mb-3 align-items-center",style:{"justify-content":"flex-end"}},be={class:"flex flex-wrap mr-0"},ge=l("div",{class:"mr-2"},[l("label",null,"Tipo doc ")],-1),we={class:"flex"},Ve={class:"flex align-items-center mr-2"},Ce=l("label",{for:"ingredient1",class:"ml-2"},"DNI",-1),Ae={class:"flex align-items-center"},Ie=l("label",{for:"ingredient2",class:"ml-2"},"C. Ext",-1),Ee={class:"flex flex-wrap mr-0"},Ue=l("div",{class:"mr-2"},[l("label",null,"Sexo ")],-1),ke={class:"flex"},Ne={class:"flex align-items-center mr-2"},De=l("label",{for:"ingredient1",class:"ml-2"},"M",-1),Te={class:"flex align-items-center"},$e=l("label",{for:"ingredient2",class:"ml-2"},"F",-1),je={class:"mr-3"},ze=l("label",null,"Estado",-1),Se={class:"flex",style:{width:"100%","justify-content":"space-between"}},Re={class:"mb-2",style:{width:"48%"}},Me=l("div",null,[l("label",null,"Nro documento (DNI)")],-1),Oe={class:"mb-2",style:{width:"48%"}},Le=l("div",null,[l("label",null,"Nombres")],-1),Ge={class:"flex",style:{width:"100%","justify-content":"space-between"}},Be={class:"mb-2",style:{width:"48%"}},Fe=l("div",null,[l("label",null,"Primer apellido")],-1),Pe={class:"mb-2",style:{width:"48%"}},He=l("div",null,[l("label",null,"Segundo apellido")],-1),Ye={class:"flex",style:{width:"100%","justify-content":"space-between"}},qe={class:"mb-2",style:{width:"23%"}},Je=l("div",null,[l("label",null,"Nro Celular")],-1),Ze={class:"mb-2",style:{width:"73%"}},Qe=l("div",null,[l("label",null,"Correo (preferiblemente institucional)")],-1),Ke={class:"flex",style:{width:"100%","justify-content":"space-between","margin-bottom":"-20px"}},We={class:"",style:{width:"100%"}},Xe=l("div",null,[l("label",null,"Dirección")],-1),el={style:{height:"340px"}},ll={class:"flex mt-5",style:{width:"100%","justify-content":"space-between","margin-bottom":"-20px"}},al={class:"",style:{width:"100%"}},tl=l("div",{class:"mb-2"},[l("h2",null,"Habilidades")],-1),ol={style:{"column-count":"2"}},sl={key:0,class:"flex"},il={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},dl=["for"],nl={key:1,class:"flex"},ul={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},rl=["for"],cl={class:"flex",style:{"justify-content":"flex-end"}},El={__name:"index",setup(vl){const C=H(),j=Y();d([]);const z=d(0),A=d(1),x=d(""),I=d([]),u=d(!1),g=d("");d();const e=d({id:null,tipo_doc:1,nro_doc:"",nombres:"",primer_apellido:"",segundo_apellido:"",celular:"",correo:"",direccion:"",sexo:"M",estado:!0}),y=async i=>{let a=await axios.post("/coordinador/get-docentes?page="+A.value,{term:x.value});I.value=a.data.datos.data,z.value=a.data.datos.total},S=async i=>{let a=await axios.post("/coordinador/get-competencia-x-docente?page="+A.value,{id_docente:i});m.value=a.data.datos},R=async()=>{let i=await axios.post("/coordinador/save-docente",{id:e.value.id,tipo_doc:e.value.tipo_doc,nro_doc:e.value.nro_doc,nombres:e.value.nombres,primer_apellido:e.value.primer_apellido,segundo_apellido:e.value.segundo_apellido,celular:e.value.celular,correo:e.value.correo,direccion:e.value.direccion,sexo:e.value.sexo,estado:e.value.estado,competencias:m.value});U(i.data.tipo,i.data.titulo,i.data.mensaje),y(),u.value=!1,F()},M=async i=>{let a=await axios.get("delete-docente/"+i);U(a.data.tipo,a.data.titulo,a.data.mensaje),y()},O=async()=>{let i=await axios.get("get-data-docente/"+e.value.nro_doc);e.value.nombres=i.data.nombre,e.value.primer_apellido=i.data.paterno,e.value.segundo_apellido=i.data.materno},E=d(!1),L=async i=>{S(i.id),u.value=!0,E.value=!0,e.value.id=i.id,e.value.tipo_doc=i.tipo_doc,e.value.nro_doc=i.nro_doc,e.value.nombres=i.nombres,e.value.primer_apellido=i.paterno,e.value.segundo_apellido=i.materno,e.value.celular=i.telefono,e.value.correo=i.email,e.value.direccion=i.direccion,g.value=i.f_nac,e.value.sexo=i.sexo,i.estado===1?e.value.estado=!0:e.value.estado=!1};w(u,(i,a)=>{E.value==!0&&u.value==!1&&(u.value=!1,e.value.id=null,e.value.tipo_doc=1,e.value.nro_doc=null,e.value.nombres=null,e.value.primer_apellido=null,e.value.segundo_apellido=null,e.value.celular=null,e.value.correo=null,e.value.direccion=null,g.value=null,e.value.sexo="M",e.value.estado=!0)}),w(x,(i,a)=>{y()}),w(()=>e.value.nro_doc,(i,a)=>{e.value.nro_doc!=null&&e.value.nro_doc.length==8&&O()});const U=(i,a,t)=>{C.add({severity:i,summary:a,detail:t,life:3e3})},G=(i,a)=>{j.require({target:i.currentTarget,message:"¿Estas seguro de eliminar al docente "+a.nombres+"?",icon:"pi pi-info-circle",acceptClass:"p-button-danger",accept:()=>{M(a.id)},reject:()=>{C.add({severity:"error",summary:"Elimación cancelada",detail:"Se ha cancelado la eliminación del docente "+a.nombres,life:3e3})}})};y();const B=d([{value:1,name:"(C1) EDUCACION CIVICA"},{value:2,name:"(C2) HISTORIA Y GEOGRAFÍA"},{value:3,name:"(C3) EDUCACIÓN FISICA"},{value:4,name:"(C4) ARTE Y CULTURA"},{value:5,name:"(C5) LENGUAJE: LITERATURA, RAZONAMIENTO VERBAL, INGLES, QUECHUA Y AIMARA"},{value:6,name:"(C6) FISICA, QUIMICA Y BIOLOGÍA"},{value:7,name:"(C7) MATEMÁTICA"},{value:8,name:"(C8) EDUCACIÓN PARA EL TRABAJO, ECONOMÍA"},{value:9,name:"(C9) TIC"},{value:10,name:"(C10) ESTRATEGIA DE APRENDIZAJE"},{value:11,name:"(C11) RELIGIÓN"}]),m=d([]),F=()=>{e.value.id=null,e.value.tipo_doc=1,e.value.nro_doc=null,e.value.nombres=null,e.value.primer_apellido=null,e.value.segundo_apellido=null,e.value.celular=null,e.value.correo=null,e.value.direccion=null,g.value=null,e.value.sexo="M",e.value.estado=!0,m.value=[]};return(i,a)=>(r(),p(k,null,[o(s(q),{title:"Tutores"}),o(P,null,{default:n(()=>[l("div",se,[l("div",null,[l("div",ie,[o(s(oe),{severity:"warn",sticky:""},{default:n(()=>[J("Solo debe agregar al docente de su Escuela Profesional. En caso de ser docente de servicio, comuníquese con el docente o el director de la escuela para su asignación en el sistema.")]),_:1})]),l("div",de,[o(s(h),{label:"Docente Nuevo",onClick:a[0]||(a[0]=t=>u.value=!0),size:"small",style:{height:"40px"}}),l("span",ne,[ue,o(s(c),{modelValue:x.value,"onUpdate:modelValue":a[1]||(a[1]=t=>x.value=t),style:{"padding-left":"40px",height:"40px"},placeholder:"Search"},null,8,["modelValue"])])])]),o(s(W)),o(s(le)),l("div",null,[l("div",re,[ce,o(s(ee),{value:I.value,class:Z("p-datatable-sm"),paginator:"",rows:10,rowsPerPageOptions:[10,20,50],tableStyle:"min-width: 50rem",style:{"font-size":".9rem"}},{default:n(()=>[o(s(v),{field:"nro_doc",header:"N° Doc"}),i.conf_codigo===!0?(r(),Q(s(v),{key:0,field:"Codigo",header:"Código"})):V("",!0),o(s(v),{field:"nombres",header:"Nombres"},{body:n(({data:t})=>[l("div",ve,[l("div",null,f(t.nombres)+" "+f(t.paterno)+" "+f(t.materno),1)])]),_:1}),o(s(v),{field:"sexo",header:"Sexo"}),o(s(v),{field:"telefono",header:"Celular"}),o(s(v),{field:"email",header:"Correo"}),o(s(v),{field:"estado",style:{"justify-content":"center",display:"flex"},header:"Estado",width:"70px"},{body:n(({data:t})=>[l("div",me,[t.estado===1?(r(),p("div",pe,[o(s(D),{severity:"info",value:"Activo"})])):V("",!0),t.estado===0?(r(),p("div",_e,[o(s(D),{style:{background:"#CDCDCD"},value:"Inactivo"})])):V("",!0)])]),_:1}),o(s(v),{field:"id_programa",header:"Acciones",width:"90px"},{body:n(({data:t})=>[l("div",fe,[l("div",he,[o(s(h),{class:"secondary",icon:"pi pi-pencil","aria-label":"Submit",onClick:_=>L(t),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])]),o(s(h),{icon:"pi pi-trash",severity:"danger","aria-label":"Submit",onClick:_=>G(_,t),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])]),_:1})]),_:1},8,["value"])])]),o(s(X),{visible:u.value,"onUpdate:visible":a[17]||(a[17]=t=>u.value=t),header:"Docente Nuevo",style:{width:"60vw",height:"600px"}},{footer:n(()=>[l("div",cl,[l("div",null,[o(s(h),{label:"Cancelar",outlined:"",onClick:a[16]||(a[16]=t=>u.value=!1),size:"small"})]),o(s(h),{label:"Guardar",onClick:R,size:"small"})])]),default:n(()=>[l("div",xe,[o(s(te),null,{default:n(()=>[o(s(T),{header:"Datos Docente"},{default:n(()=>[l("div",ye,[l("div",be,[l("div",null,[ge,l("div",we,[l("div",Ve,[o(s(b),{modelValue:e.value.tipo_doc,"onUpdate:modelValue":a[2]||(a[2]=t=>e.value.tipo_doc=t),name:"pizza",value:1},null,8,["modelValue"]),Ce]),l("div",Ae,[o(s(b),{modelValue:e.value.tipo_doc,"onUpdate:modelValue":a[3]||(a[3]=t=>e.value.tipo_doc=t),name:"pizza",value:2},null,8,["modelValue"]),Ie])])])]),o(s(N),{layout:"vertical"}),l("div",Ee,[l("div",null,[Ue,l("div",ke,[l("div",Ne,[o(s(b),{modelValue:e.value.sexo,"onUpdate:modelValue":a[4]||(a[4]=t=>e.value.sexo=t),name:"pizza",value:"M"},null,8,["modelValue"]),De]),l("div",Te,[o(s(b),{modelValue:e.value.sexo,"onUpdate:modelValue":a[5]||(a[5]=t=>e.value.sexo=t),name:"pizza",value:"F"},null,8,["modelValue"]),$e])])])]),o(s(N),{layout:"vertical"}),l("div",je,[ze,l("div",null,[o(s(ae),{modelValue:e.value.estado,"onUpdate:modelValue":a[6]||(a[6]=t=>e.value.estado=t)},null,8,["modelValue"])])])]),l("div",Se,[l("div",Re,[Me,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.nro_doc,"onUpdate:modelValue":a[7]||(a[7]=t=>e.value.nro_doc=t)},null,8,["modelValue"])]),l("div",Oe,[Le,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.nombres,"onUpdate:modelValue":a[8]||(a[8]=t=>e.value.nombres=t)},null,8,["modelValue"])])]),l("div",Ge,[l("div",Be,[Fe,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.primer_apellido,"onUpdate:modelValue":a[9]||(a[9]=t=>e.value.primer_apellido=t)},null,8,["modelValue"])]),l("div",Pe,[He,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.segundo_apellido,"onUpdate:modelValue":a[10]||(a[10]=t=>e.value.segundo_apellido=t)},null,8,["modelValue"])])]),l("div",Ye,[l("div",qe,[Je,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.celular,"onUpdate:modelValue":a[11]||(a[11]=t=>e.value.celular=t)},null,8,["modelValue"])]),l("div",Ze,[Qe,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.correo,"onUpdate:modelValue":a[12]||(a[12]=t=>e.value.correo=t)},null,8,["modelValue"])])]),l("div",Ke,[l("div",We,[Xe,o(s(c),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.direccion,"onUpdate:modelValue":a[13]||(a[13]=t=>e.value.direccion=t)},null,8,["modelValue"])])])]),_:1}),o(s(T),{header:"Cursos que puede dictar"},{default:n(()=>[l("div",el,[l("div",ll,[l("div",al,[tl,l("div",ol,[(r(!0),p(k,null,K(B.value,t=>(r(),p("div",{key:t.key,class:"mb-2",style:{"font-size":".9rem"}},[t.value%2===0?(r(),p("div",sl,[o(s($),{modelValue:m.value,"onUpdate:modelValue":a[14]||(a[14]=_=>m.value=_),inputId:t.key,class:"mr-2",name:"category",value:t.value},null,8,["modelValue","inputId","value"]),l("div",il,[l("label",{for:t.key},f(t.name),9,dl)])])):(r(),p("div",nl,[o(s($),{modelValue:m.value,"onUpdate:modelValue":a[15]||(a[15]=_=>m.value=_),inputId:t.key,class:"mr-2",name:"category",value:t.value},null,8,["modelValue","inputId","value"]),l("div",ul,[l("label",{for:t.key},f(t.name),9,rl)])]))]))),128))])])])])]),_:1})]),_:1})])]),_:1},8,["visible"])])]),_:1})],64))}};export{El as default};
