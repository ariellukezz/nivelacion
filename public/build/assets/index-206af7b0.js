import{A as y}from"./LayoutEstudiante-d90934d2.js";import{r as x,G as g,c as a,b as s,d as e,w as c,F as f,e as o,Z as w,f as n,g as v,m as A,i as _,n as O,t as m,j as k,p as E,q as N}from"./app-df00ec4e.js";import{s as S}from"./datatable.esm-71078f41.js";import{s as d}from"./column.esm-434bfdc1.js";import{a as u}from"./TopMenu-edcbe2b9.js";import{s as R}from"./message.esm-491e6fcd.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-fc04ebc9.js";import"./index.esm-b50760ad.js";import"./dropdown.esm-b8162aa9.js";import"./inputnumber.esm-fe2002eb.js";const I=p=>(E("data-v-8a8ae7bf"),p=p(),N(),p),D={class:"card mb-4"},T={class:"bg-white shadow-xs p-4",style:{"min-height":"calc(100vh - 110px)"}},G={class:"text-lg font-bold"},B={class:"flex",style:{"justify-content":"flex-start"}},H={key:0},V={key:1,style:{color:"red","font-weight":"bold"}},j={key:0,class:"flex"},L={key:1,class:"flex"},M={key:0,class:"text-center py-8"},P=I(()=>n("p",{style:{color:"#666"}},"ERROR DE SISTEMA - No se encontraron notas en tu historial (En Mantenimiento)",-1)),U=[P],$={__name:"index",setup(p){const h=x([]),b=g(()=>{const r={};return h.value.forEach(i=>{r[i.periodo_nombre]||(r[i.periodo_nombre]={nombre:i.periodo_nombre,estado:i.periodo_estado,cursos:[]}),r[i.periodo_nombre].cursos.push(i)}),Object.values(r)});return(async()=>{let r=await axios.post("get-historial-notas");h.value=r.data.datos})(),(r,i)=>(o(),a(f,null,[s(e(w),{title:"Historial de Notas"}),s(y,null,{default:c(()=>[n("div",D,[s(e(R),{severity:"info"},{default:c(()=>[v(" Historial completo de todas tus notas por periodo académico. ")]),_:1})]),n("div",T,[(o(!0),a(f,null,A(e(b),l=>(o(),a("div",{key:l.nombre,class:"mb-6"},[n("div",{class:O(["periodo-header p-3 mb-3",{"periodo-activo":l.estado==="activo"}])},[n("h3",G,[v(m(l.nombre)+" ",1),l.estado==="activo"?(o(),k(e(u),{key:0,severity:"success",value:"PERIODO ACTUAL",class:"ml-2"})):_("",!0)])],2),s(e(S),{showGridlines:!1,value:l.cursos,class:"p-datatable-sm mb-4",tableStyle:"min-width: 50rem",style:{"font-size":".9rem"}},{default:c(()=>[s(e(d),{field:"cod",header:"CÓDIGO",width:"100px"},{body:c(({data:t})=>[s(e(u),{value:t.cod},null,8,["value"])]),_:1}),s(e(d),{field:"curso_nombre",header:"CURSO"}),s(e(d),{field:"nombres",header:"DOCENTE"},{body:c(({data:t})=>[n("div",B,[t.nombres?(o(),a("div",H,m(t.nombres)+" "+m(t.paterno)+" "+m(t.materno),1)):(o(),a("div",V," Sin docente "))])]),_:1}),s(e(d),{field:"grupo",header:"GRUPO",width:"100px"}),s(e(d),{field:"escuela",header:"PROGRAMA",width:"200px"}),s(e(d),{field:"nota",header:"NOTA",width:"100px"}),s(e(d),{field:"condicion",header:"ESTADO",width:"120px"},{body:c(({data:t})=>[t.nota>=10.5&&t.nota<=20?(o(),a("div",j,[s(e(u),{severity:"success",value:"Aprobado"})])):_("",!0),t.nota>=0&&t.nota<10.5?(o(),a("div",L,[s(e(u),{severity:"danger",value:"Reprobado"})])):_("",!0)]),_:1})]),_:2},1032,["value"])]))),128)),h.value.length===0?(o(),a("div",M,U)):_("",!0)])]),_:1})],64))}},te=C($,[["__scopeId","data-v-8a8ae7bf"]]);export{te as default};
