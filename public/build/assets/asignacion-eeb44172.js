import{A as D}from"./LayoutSupervisor-a2df485a.js";import{o as E,c as C,n as g,u as U,r,i as O,a as l,b as a,w as d,F as M,Z as z,d as t,t as S,g as y,f as L}from"./app-3b7a8068.js";import{b as k,s as B,a as v}from"./column.esm-310776d1.js";import{b as F,a as m,c as P,s as H}from"./TopMenu-61c9ff45.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./NavigationMobile-89f6e0e6.js";var x={name:"Textarea",emits:["update:modelValue"],props:{modelValue:null,autoResize:Boolean},mounted(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize(){const u=window.getComputedStyle(this.$el);this.$el.style.height="auto",this.$el.style.height=`calc(${u.borderTopWidth} + ${u.borderBottomWidth} + ${this.$el.scrollHeight}px)`,parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput(u){this.autoResize&&this.resize(),this.$emit("update:modelValue",u.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const j=["value"];function Y(u,c,p,o,n,I){return E(),C("textarea",{class:g(["p-inputtextarea p-inputtext p-component",{"p-filled":I.filled,"p-inputtextarea-resizable ":p.autoResize}]),value:p.modelValue,onInput:c[0]||(c[0]=(...h)=>I.onInput&&I.onInput(...h))},null,42,j)}function Q(u,c){c===void 0&&(c={});var p=c.insertAt;if(!(!u||typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",p==="top"&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=u:n.appendChild(document.createTextNode(u))}}var W=`
.p-inputtextarea-resizable {
    overflow: hidden;
    resize: none;
}
.p-fluid .p-inputtextarea {
    width: 100%;
}
`;Q(W);x.render=Y;const Z={class:"flex justify-between"},J={class:"flex",style:{width:"100%","justify-content":"space-between"}},q={class:"mb-3",style:{width:"240px"}},K={class:"flex align-items-center",style:{width:"400px","font-size":"0.9rem","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},X={class:"p-input-icon-left"},ee=t("i",{class:"pi pi-search"},null,-1),le={class:"mt-3"},ae=t("i",{class:"pi pi-download",style:{color:"green"}},null,-1),te={class:"flex"},se={class:"mr-2"},ie={key:0},oe={key:1},ne={key:2},ue={class:"mr-2"},re=t("div",null,null,-1),de={class:"w-full"},ce={class:"flex justify-end"},be={__name:"asignacion",setup(u){const c=U(),p=(i,s,e)=>{c.add({severity:i,summary:s,detail:e,life:3e3})},o=r(!1),n=r(1),I=r(null),h=r(null),R=r(0),_=r([]),w=r(10);O(I,(i,s)=>{A()}),O(h,(i,s)=>{A()}),O(w,(i,s)=>{A()});const A=async()=>{let i=await axios.post("get-documentos?page="+n.value,{term:I.value,paginashoja:w.value,programa:h.value});_.value=i.data.datos.data,R.value=i.data.datos.total},T=i=>{window.open("../"+i,"_blank")},b=r({}),V=async()=>{await axios.post("observar-documento",b.value),A(),p("info","DOCUMENTO OBSERVADO",""),o.value=!1,b.value={}},f=async i=>{await axios.post("cambiar-estado-documento",i),A(),p("info","ESTADO MODIFICADO","")},$=i=>{o.value=!0,b.value=i},G=r([{value:1,label:"INGENIERIA AGRONOMICA"},{value:2,label:"INGENIERIA AGROINDUSTRIAL"},{value:3,label:"INGENIERIA TOPOGRAFICA Y AGRIMENSURA"},{value:4,label:"MEDICINA VETERINARIA Y ZOOTECNIA"},{value:5,label:"INGENIERIA ECONOMICA"},{value:6,label:"CIENCIAS CONTABLES"},{value:7,label:"ADMINISTRACION"},{value:8,label:"TRABAJO SOCIAL"},{value:9,label:"ENFERMERIA"},{value:10,label:"INGENIERIA DE MINAS"},{value:11,label:"HUMANIDADES"},{value:12,label:"SOCIOLOGIA"},{value:13,label:"TURISMO"},{value:14,label:"ANTROPOLOGIA"},{value:15,label:"CIENCIAS DE LA COMUNICACION SOCIAL"},{value:16,label:"ARTE"},{value:17,label:"BIOLOGIA"},{value:18,label:"EDUCACION SECUNDARIA"},{value:19,label:"EDUCACION PRIMARIA"},{value:20,label:"EDUCACION INICIAL"},{value:21,label:"EDUCACION FISICA"},{value:22,label:"INGENIERIA ESTADISTICA E INFORMATICA"},{value:23,label:"DERECHO"},{value:24,label:"INGENIERIA QUIMICA"},{value:25,label:"ODONTOLOGIA"},{value:26,label:"NUTRICION HUMANA"},{value:27,label:"INGENIERIA GEOLOGICA"},{value:28,label:"INGENIERIA METALURGICA"},{value:29,label:"INGENIERIA CIVIL"},{value:30,label:"ARQUITECTURA Y URBANISMO"},{value:31,label:"CIENCIAS FISICO MATEMATICAS"},{value:32,label:"INGENIERIA AGRICOLA"},{value:33,label:"MEDICINA HUMANA"},{value:34,label:"INGENIERIA MECANICA ELECTRICA"},{value:35,label:"INGENIERIA ELECTRONICA"},{value:36,label:"INGENIERIA DE SISTEMAS"},{value:37,label:"PSICOLOGIA"}]);return A(),(i,s)=>(E(),C(M,null,[l(a(z),{title:"Documentos"}),l(D,null,{default:d(()=>[t("div",Z,[t("div",J,[t("div",q,[l(a(k),{modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=e=>h.value=e),options:G.value,filter:"",optionLabel:"label",optionValue:"value",placeholder:"Seleccione escuela profesional",style:{width:"100%"},class:"w-full md:w-11rem"},{option:d(e=>[t("div",K,[t("div",null,S(e.option.label),1)])]),_:1},8,["modelValue","options"])])]),t("span",X,[ee,l(a(F),{modelValue:I.value,"onUpdate:modelValue":s[1]||(s[1]=e=>I.value=e),placeholder:"Search"},null,8,["modelValue"])])]),t("div",le,[l(a(B),{showGridlines:!1,value:_.value,paginator:"",rows:10,totalRecords:R.value,rowsPerPageOptions:[10,20,50],currentPage:n.value,class:g("p-datatable-sm"),tableStyle:"min-width: 50rem",style:{"font-size":".9rem"}},{default:d(()=>[l(a(v),{field:"tipo",header:"TIPO"}),l(a(v),{field:"escuela",header:"ESCUELA PROFESIONAL"}),l(a(v),{field:"fecha_subida",header:"FECHA"}),l(a(v),{field:"username",header:"USUARIO"}),l(a(v),{field:"url",header:"Ver ",style:{"min-width":"12rem"}},{body:d(({data:e})=>[l(a(m),{label:"Link",onClick:N=>T(e.url),link:""},{default:d(()=>[ae]),_:2},1032,["onClick"])]),_:1}),l(a(v),{header:"Observaciones"},{body:d(({data:e})=>[t("div",null,S(e.obser),1)]),_:1}),l(a(v),{field:"id_programa",header:"Acciones",width:"90px"},{body:d(({data:e})=>[t("div",te,[t("div",se,[e.aceptado==1?(E(),C("div",ie,[l(a(m),{severity:"danger",icon:"pi pi-times","aria-label":"Submit",onClick:N=>f(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])):y("",!0),e.aceptado==0?(E(),C("div",oe,[l(a(m),{severity:"success",icon:"pi pi-check","aria-label":"Submit",onClick:N=>f(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])):y("",!0),e.aceptado==null?(E(),C("div",ne,[l(a(m),{severity:"secondary",icon:"pi pi-spinner",label:"",onClick:N=>f(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])):y("",!0)]),t("div",ue,[l(a(m),{class:"secondary",icon:"pi pi-pencil","aria-label":"Submit",onClick:N=>$(e),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])])]),_:1})]),_:1},8,["value","totalRecords","currentPage"]),re]),L(" s "),l(a(P),{visible:o.value,"onUpdate:visible":s[4]||(s[4]=e=>o.value=e),modal:"",header:"ObservaciÃ³n",style:{width:"25rem"}},{footer:d(()=>[t("div",ce,[l(a(m),{icon:"pi pi-save",label:"Observar",severity:"success","aria-label":"Submit",onClick:s[3]||(s[3]=e=>V()),size:"small",style:{height:"25px"}})])]),default:d(()=>[t("div",de,[t("div",null,[l(a(x),{modelValue:b.value.obser,"onUpdate:modelValue":s[2]||(s[2]=e=>b.value.obser=e),style:{width:"100%"},variant:"filled",rows:"6"},null,8,["modelValue"])])])]),_:1},8,["visible"]),l(a(H))]),_:1})],64))}};export{be as default};
