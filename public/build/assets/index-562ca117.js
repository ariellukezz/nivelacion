import{A as E}from"./AuthenticatedLayout-12214e9e.js";import{X as i}from"./xlsx-1a626fb5.js";import{s as k}from"./index.esm-b50760ad.js";import{r as _,j as S,w as N,e as l,b as x,f as t,d as w,c as n,m as b,F as y,s as I,t as r}from"./app-df00ec4e.js";import"./TopMenu-edcbe2b9.js";import"./_plugin-vue_export-helper-c27b6911.js";const O=t("div",{class:"text-center mb-4"},[t("h1",{class:"text-xl font-bold"},"REPROBADOS – NIVELACIÓN")],-1),A={class:"p-4",style:{background:"white"}},L={class:"flex justify-end mb-2"},R={style:{"border-radius":"4px",width:"100%",overflow:"hidden"}},B=t("thead",{style:{height:"30px",color:"white","background-color":"var(--primary-color)",padding:"0px 10px"}},[t("tr",{style:{"font-size":".9rem"}},[t("th",{style:{border:"1px solid #d9d9d9"}},"CODIGO"),t("th",{style:{border:"1px solid #d9d9d9"}},"APELLIDOS Y NOMBRES"),t("th",{style:{border:"1px solid #d9d9d9"}},"EMAIL"),t("th",{style:{border:"1px solid #d9d9d9"}},"CELULAR"),t("th",{style:{border:"1px solid #d9d9d9"}},"PROGRAMA DE ESTUDIO"),t("th",{style:{border:"1px solid #d9d9d9"}},"INGRESO"),t("th",{style:{border:"1px solid #d9d9d9"}},"C1"),t("th",{style:{border:"1px solid #d9d9d9"}},"C2"),t("th",{style:{border:"1px solid #d9d9d9"}},"C3"),t("th",{style:{border:"1px solid #d9d9d9"}},"C4"),t("th",{style:{border:"1px solid #d9d9d9"}},"C5"),t("th",{style:{border:"1px solid #d9d9d9"}},"C6"),t("th",{style:{border:"1px solid #d9d9d9"}},"C7"),t("th",{style:{border:"1px solid #d9d9d9"}},"C8"),t("th",{style:{border:"1px solid #d9d9d9"}},"C9"),t("th",{style:{border:"1px solid #d9d9d9"}},"C10"),t("th",{style:{border:"1px solid #d9d9d9"}},"C11")])],-1),D={style:{border:"1px solid #d9d9d9","text-align":"center"}},j={class:"pl-1 pr-1"},$={style:{border:"1px solid #d9d9d9"}},z={class:"pl-1 pr-1"},V={style:{border:"1px solid #d9d9d9","text-align":"center"}},F={class:"pl-1 pr-1"},G={style:{border:"1px solid #d9d9d9","text-align":"center"}},M={class:"pl-1 pr-1"},P={style:{border:"1px solid #d9d9d9","text-align":"center"}},X={class:"pl-1 pr-1"},H={style:{border:"1px solid #d9d9d9","text-align":"center"}},U={class:"pl-1 pr-1"},T={key:0},Y={key:0},q={key:1},J=t("span",{style:{"font-size":".9rem"}},"--",-1),K=[J],Q={key:1},rt={__name:"index",setup(W){function a(e,o){for(var d=0;d<e.length;d++)if(e[d].competencia===o)return d;return null}function h(e){if(e==null||String(e).trim()==="")return"SI";const o=Number(String(e).replace(",","."));return Number.isNaN(o)||o<=10?"SI":o>=11&&o<=20?"NO":"SI"}const f=_(1),c=_([]),g=async()=>{const e=await axios.get("/reprobados-nivelacion/data?page="+f.value);c.value=e.data.datos,v()},u=_([]),v=()=>{u.value=c.value.map(e=>{const o={codigo_est:e.codigo_est,programa:e.programa,semestre:e.semestre,filial:e.filial,email:e.email,telefono:e.telefono,nombreCompleto:`${e.paterno} ${e.materno},  ${e.nombre}`};for(let d=1;d<=11;d++){const s=a(e.notas,d);s!==null&&e.notas[s]?o[`C${d}`]=h(e.notas[s].nota):o[`C${d}`]="--"}return o})},m=()=>{const e=i.utils.json_to_sheet(u.value),o=i.utils.book_new();i.utils.book_append_sheet(o,e,"Reprobados"),i.writeFile(o,"reprobados_nivelacion.xlsx")};return g(),(e,o)=>{const d=I("Head");return l(),S(E,null,{default:N(()=>[x(d,{title:"Reprobados Nivelación"}),O,t("div",A,[t("div",L,[x(w(k),{label:"Exportar excel",onClick:m,size:"small",style:{height:"40px"}})]),t("table",R,[B,t("tbody",null,[(l(!0),n(y,null,b(c.value,s=>(l(),n("tr",{key:s.id_estudiante,style:{"font-size":".9rem"}},[t("td",D,[t("div",j,r(s.codigo_est),1)]),t("td",$,[t("div",z,r(s.paterno)+" "+r(s.materno)+", "+r(s.nombre),1)]),t("td",V,[t("div",F,r(s.email),1)]),t("td",G,[t("div",M,r(s.telefono),1)]),t("td",P,[t("div",X,r(s.programa),1)]),t("td",H,[t("div",U,r(s.semestre),1)]),(l(),n(y,null,b(11,(p,C)=>t("td",{key:C,style:{border:"1px solid #d9d9d9","min-width":"40px","text-align":"center"}},[a(s.notas,p)!==null?(l(),n("div",T,[s.notas[a(s.notas,p)]?(l(),n("div",Y,r(h(s.notas[a(s.notas,p)].nota)),1)):(l(),n("div",q,K))])):(l(),n("div",Q,"--"))])),64))]))),128))])])])]),_:1})}}};export{rt as default};
