import{A as Y}from"./LayoutSuperadmi-9bd98158.js";import{u as H,i as Q,r as d,j as N,c,a as t,b as s,w as n,F as R,o as r,Z,e as l,n as J,l as q,h as V,t as _,k as K}from"./app-04670fa7.js";import{a as A,b as m,s as W,c as X}from"./TopMenu-f7298994.js";import{s as ee,a as u,b as le}from"./column.esm-f035ef51.js";import{s as ae,a as oe}from"./confirmpopup.esm-cca56e4f.js";import{s as h}from"./radiobutton.esm-6bb504bc.js";import{s as S}from"./calendar.esm-d491edb3.js";import{s as E}from"./tag.esm-a118743c.js";import{s as te,a as T}from"./tabpanel.esm-5f2f8f3c.js";import{s as U}from"./checkbox.esm-1c277543.js";import"./message.esm-7f215632.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-5136f6d3.js";import"./basecomponent.esm-e7f55183.js";import"./index.esm-9365b82a.js";const se={class:"bg-white shadow-xs p-4",style:{height:"calc(100vh - 110px)","font-family":"Arial, Helvetica, sans-serif"}},ie={class:"flex",style:{"justify-content":"space-between"}},de={class:"p-input-icon-left"},ne=l("i",{class:"pi pi-search"},null,-1),ue={class:"card"},re=l("div",{class:"flex justify-content-center mb-4"},null,-1),ve={class:"flex",style:{"justify-content":"flex-start"}},ce={key:0,style:{color:"red","font-weight":"bold"}},me={key:1,style:{color:"green","font-weight":"bold"}},pe={key:0},Ie={key:1},_e={class:"flex"},Ae={class:"mr-2"},Ce={style:{}},be={class:"flex mt-0 mb-3 align-items-center",style:{"justify-content":"flex-end"}},he={class:"flex flex-wrap mr-0"},Ee=l("div",{class:"mr-2"},[l("label",null,"Tipo doc ")],-1),fe={class:"flex"},Ne={class:"flex align-items-center mr-2"},ye=l("label",{for:"ingredient1",class:"ml-2"},"DNI",-1),xe={class:"flex align-items-center"},Oe=l("label",{for:"ingredient2",class:"ml-2"},"C. Ext",-1),ge={class:"flex flex-wrap mr-0"},we=l("div",{class:"mr-2"},[l("label",null,"Sexo ")],-1),Re={class:"flex"},Ve={class:"flex align-items-center mr-2"},Se=l("label",{for:"ingredient1",class:"ml-2"},"M",-1),Te={class:"flex align-items-center"},Ue=l("label",{for:"ingredient2",class:"ml-2"},"F",-1),Me={class:"mr-3"},De=l("label",null,"Estado",-1),Ge={class:"flex",style:{width:"100%","justify-content":"space-between"}},Le={class:"mb-2",style:{width:"48%"}},ke=l("div",null,[l("label",null,"Nro documento (DNI)")],-1),Fe={class:"mb-2",style:{width:"48%"}},ze=l("div",null,[l("label",null,"Nombres")],-1),Pe={class:"flex",style:{width:"100%","justify-content":"space-between"}},$e={class:"mb-2",style:{width:"48%"}},Be=l("div",null,[l("label",null,"Primer apellido")],-1),je={class:"mb-2",style:{width:"48%"}},Ye=l("div",null,[l("label",null,"Segundo apellido")],-1),He={class:"flex",style:{width:"100%","justify-content":"space-between"}},Qe={class:"mb-2",style:{width:"23%"}},Ze=l("div",null,[l("label",null,"Nro Celular")],-1),Je={class:"mb-2",style:{width:"73%"}},qe=l("div",null,[l("label",null,"Correo (preferiblemente institucional)")],-1),Ke={class:"flex",style:{width:"100%","justify-content":"space-between","margin-bottom":"20px"}},We={style:{width:"calc(50% - 10px)"}},Xe=l("div",null,[l("label",{for:"direccion"},"Dirección")],-1),el={style:{width:"calc(50% - 10px)"}},ll=l("div",null,[l("label",{for:"programa"},"Programa")],-1),al={class:"flex align-items-center",style:{width:"400px","font-size":"0.9rem","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},ol={style:{height:"340px"}},tl={class:"flex mt-5",style:{width:"100%","justify-content":"space-between","margin-bottom":"-20px"}},sl={class:"",style:{width:"100%"}},il=l("div",{class:"mb-2"},[l("h2",null,"Habilidades")],-1),dl={style:{"column-count":"2"}},nl={key:0,class:"flex"},ul={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},rl=["for"],vl={key:1,class:"flex"},cl={style:{"max-width":"230px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},ml=["for"],pl={class:"flex",style:{"justify-content":"flex-end"}},Sl={__name:"index",setup(Il){const y=H(),M=Q();d([]);const D=d(0),x=d(1),C=d(""),O=d([]),v=d(!1),f=d("");d();const e=d({id:null,tipo_doc:1,nro_doc:"",nombres:"",primer_apellido:"",segundo_apellido:"",celular:"",correo:"",direccion:"",sexo:"M",estado:!0,id_docente:null}),b=async i=>{let o=await axios.post("get-docentes-superadmi?page="+x.value,{term:C.value});O.value=o.data.datos.data,D.value=o.data.datos.total},G=async i=>{let o=await axios.post("get-competencia-x-docente?page="+x.value,{id_docente:i});p.value=o.data.datos},L=async()=>{let i=await axios.post("save-docente",{id:e.value.id,tipo_doc:e.value.tipo_doc,nro_doc:e.value.nro_doc,nombres:e.value.nombres,primer_apellido:e.value.primer_apellido,segundo_apellido:e.value.segundo_apellido,celular:e.value.celular,correo:e.value.correo,direccion:e.value.direccion,id_docente:e.value.id_docente,sexo:e.value.sexo,estado:e.value.estado,competencias:p.value});w(i.data.tipo,i.data.titulo,i.data.mensaje),b(),v.value=!1,B()},k=async i=>{let o=await axios.get("delete-docente/"+i);w(o.data.tipo,o.data.titulo,o.data.mensaje),b()},F=async()=>{let i=await axios.get("get-data-docente/"+e.value.nro_doc);e.value.nombres=i.data.nombre,e.value.primer_apellido=i.data.paterno,e.value.segundo_apellido=i.data.materno},g=d(!1),z=async i=>{G(i.id),v.value=!0,g.value=!0,e.value.id=i.id,e.value.tipo_doc=i.tipo_doc,e.value.nro_doc=i.nro_doc,e.value.nombres=i.nombres,e.value.primer_apellido=i.paterno,e.value.segundo_apellido=i.materno,e.value.celular=i.telefono,e.value.correo=i.email,e.value.direccion=i.direccion,f.value=i.f_nac,e.value.sexo=i.sexo,i.estado===1?e.value.estado=!0:e.value.estado=!1};N(v,(i,o)=>{g.value==!0&&v.value==!1&&(v.value=!1,e.value.id=null,e.value.tipo_doc=1,e.value.nro_doc=null,e.value.nombres=null,e.value.primer_apellido=null,e.value.segundo_apellido=null,e.value.celular=null,e.value.correo=null,e.value.direccion=null,f.value=null,e.value.sexo="M",e.value.estado=!0)}),N(C,(i,o)=>{b()}),N(()=>e.value.nro_doc,(i,o)=>{e.value.nro_doc!=null&&e.value.nro_doc.length==8&&F()});const w=(i,o,a)=>{y.add({severity:i,summary:o,detail:a,life:3e3})},P=(i,o)=>{M.require({target:i.currentTarget,message:"¿Estas seguro de eliminar al docente "+o.nombres+"?",icon:"pi pi-info-circle",acceptClass:"p-button-danger",accept:()=>{k(o.id)},reject:()=>{y.add({severity:"error",summary:"Elimación cancelada",detail:"Se ha cancelado la eliminación del docente "+o.nombres,life:3e3})}})};b();const $=d([{value:1,name:"(C1) EDUCACION CIVICA"},{value:2,name:"(C2) HISTORIA Y GEOGRAFÍA"},{value:3,name:"(C3) EDUCACIÓN FISICA"},{value:4,name:"(C4) ARTE Y CULTURA"},{value:5,name:"(C5) LENGUAJE: LITERATURA, RAZONAMIENTO VERBAL, INGLES, QUECHUA Y AIMARA"},{value:6,name:"(C6) FISICA, QUIMICA Y BIOLOGÍA"},{value:7,name:"(C7) MATEMÁTICA"},{value:8,name:"(C8) EDUCACIÓN PARA EL TRABAJO, ECONOMÍA"},{value:9,name:"(C9) TIC"},{value:10,name:"(C10) ESTRATEGIA DE APRENDIZAJE"},{value:11,name:"(C11) RELIGIÓN"}]),p=d([]),B=()=>{e.value.id=null,e.value.tipo_doc=1,e.value.nro_doc=null,e.value.nombres=null,e.value.primer_apellido=null,e.value.segundo_apellido=null,e.value.celular=null,e.value.correo=null,e.value.direccion=null,e.id_docente=null,f.value=null,e.value.sexo="M",e.value.estado=!0,p.value=[]},j=d([{value:1,label:"INGENIERIA AGRONOMICA"},{value:2,label:"INGENIERIA AGROINDUSTRIAL"},{value:3,label:"INGENIERIA TOPOGRAFICA Y AGRIMENSURA"},{value:4,label:"MEDICINA VETERINARIA Y ZOOTECNIA"},{value:5,label:"INGENIERIA ECONOMICA"},{value:6,label:"CIENCIAS CONTABLES"},{value:7,label:"ADMINISTRACION"},{value:8,label:"TRABAJO SOCIAL"},{value:9,label:"ENFERMERIA"},{value:10,label:"INGENIERIA DE MINAS"},{value:11,label:"HUMANIDADES"},{value:12,label:"SOCIOLOGIA"},{value:13,label:"TURISMO"},{value:14,label:"ANTROPOLOGIA"},{value:15,label:"CIENCIAS DE LA COMUNICACION SOCIAL"},{value:16,label:"ARTE: ARTES PLASTICAS"},{value:17,label:"ARTE: MUSICA"},{value:18,label:"ARTE: DANZA"},{value:19,label:"BIOLOGIA: ECOLOGIA "},{value:20,label:"BIOLOGIA: MICROBIOLOGIA Y LABORATORIO CLINICO"},{value:21,label:"BIOLOGIA: PESQUERIA "},{value:22,label:"EDUC. SEC.: CIENCIA, TECNOLOGIA Y AMBIENTE "},{value:23,label:"EDUC. SEC.: CIENCIAS SOCIALES"},{value:24,label:"EDUC. SEC.: LIT. PSICOLOGIA Y FILOSOFIA"},{value:25,label:"EDUC. SEC.: MATEMATICA, FISICA, COMP. E INFORMATICA"},{value:26,label:"EDUCACION PRIMARIA"},{value:27,label:"EDUCACION INICIAL"},{value:28,label:"EDUCACION FISICA"},{value:29,label:"INGENIERIA ESTADISTICA E INFORMATICA"},{value:30,label:"DERECHO"},{value:31,label:"INGENIERIA QUIMICA"},{value:32,label:"ODONTOLOGIA"},{value:33,label:"NUTRICION HUMANA"},{value:34,label:"INGENIERIA GEOLOGICA"},{value:35,label:"INGENIERIA METALURGICA"},{value:36,label:"INGENIERIA CIVIL"},{value:37,label:"ARQUITECTURA Y URBANISMO"},{value:38,label:"CIENCIAS FISICO MATEMATICAS: FISICA"},{value:39,label:"CIENCIAS FISICO MATEMATICAS: MATEMATICAS "},{value:40,label:"INGENIERIA AGRICOLA"},{value:41,label:"MEDICINA HUMANA"},{value:42,label:"INGENIERIA MECANICA ELECTRICA"},{value:43,label:"INGENIERIA ELECTRONICA"},{value:44,label:"INGENIERIA DE SISTEMAS"},{value:45,label:"PSICOLOGIA"},{value:97,label:"SUPERVISOR"},{value:98,label:"SUPERADMINSTRADOR"}]);return(i,o)=>(r(),c(R,null,[t(s(Z),{title:"Tutores"}),t(Y,null,{default:n(()=>[l("div",se,[l("div",null,[l("div",ie,[t(s(A),{label:"Docente Nuevo",onClick:o[0]||(o[0]=a=>v.value=!0),size:"small",style:{height:"40px"}}),l("span",de,[ne,t(s(m),{modelValue:C.value,"onUpdate:modelValue":o[1]||(o[1]=a=>C.value=a),style:{"padding-left":"40px",height:"40px"},placeholder:"Search"},null,8,["modelValue"])])])]),t(s(W)),t(s(ae)),l("div",null,[l("div",ue,[re,t(s(ee),{value:O.value,class:J("p-datatable-sm"),paginator:"",rows:10,rowsPerPageOptions:[10,20,50],tableStyle:"min-width: 50rem",style:{"font-size":".9rem"}},{default:n(()=>[t(s(u),{field:"nro_doc",header:"N° Doc"}),i.conf_codigo===!0?(r(),q(s(u),{key:0,field:"Codigo",header:"Código"})):V("",!0),t(s(u),{field:"nombres",header:"Nombres"},{body:n(({data:a})=>[l("div",ve,[l("div",null,_(a.nombres)+" "+_(a.paterno)+" "+_(a.materno),1)])]),_:1}),t(s(u),{field:"sexo",header:"Sexo"}),t(s(u),{field:"telefono",header:"Celular"}),t(s(u),{field:"email",header:"Correo"}),t(s(u),{field:"programa",header:"Programa"}),t(s(u),{field:"nombre",header:"Escuela"}),t(s(u),{header:"Estado Contraseña"},{body:n(({data:a})=>[a.estado_contraseña===0?(r(),c("div",ce,[t(s(E),{severity:"danger",value:"Cambiado"})])):a.estado_contraseña===1?(r(),c("div",me,[t(s(E),{severity:"success",value:"No Cambio"})])):V("",!0)]),_:1}),t(s(u),{field:"estado",header:"Estado",width:"90px"},{body:n(({data:a})=>[a.estado===1?(r(),c("div",pe,[t(s(E),{severity:"info",value:"Activo"})])):(r(),c("div",Ie,[t(s(E),{style:{background:"#CDCDCD"},value:"Inactivo"})]))]),_:1}),t(s(u),{field:"id_programa",header:"Acciones",width:"90px"},{body:n(({data:a})=>[l("div",_e,[l("div",Ae,[t(s(A),{class:"secondary",icon:"pi pi-pencil","aria-label":"Editar",onClick:I=>z(a),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])]),t(s(A),{icon:"pi pi-trash",severity:"danger","aria-label":"Eliminar",onClick:I=>P(I,a),size:"small",style:{width:"25px",height:"25px"}},null,8,["onClick"])])]),_:1})]),_:1},8,["value"])])]),t(s(X),{visible:v.value,"onUpdate:visible":o[18]||(o[18]=a=>v.value=a),header:"Docente Nuevo",style:{width:"60vw",height:"600px"}},{footer:n(()=>[l("div",pl,[l("div",null,[t(s(A),{label:"Cancelar",outlined:"",onClick:o[17]||(o[17]=a=>v.value=!1),size:"small"})]),t(s(A),{label:"Guardar",onClick:L,size:"small"})])]),default:n(()=>[l("div",Ce,[t(s(te),null,{default:n(()=>[t(s(T),{header:"Datos Docente"},{default:n(()=>[l("div",be,[l("div",he,[l("div",null,[Ee,l("div",fe,[l("div",Ne,[t(s(h),{modelValue:e.value.tipo_doc,"onUpdate:modelValue":o[2]||(o[2]=a=>e.value.tipo_doc=a),name:"pizza",value:1},null,8,["modelValue"]),ye]),l("div",xe,[t(s(h),{modelValue:e.value.tipo_doc,"onUpdate:modelValue":o[3]||(o[3]=a=>e.value.tipo_doc=a),name:"pizza",value:2},null,8,["modelValue"]),Oe])])])]),t(s(S),{layout:"vertical"}),l("div",ge,[l("div",null,[we,l("div",Re,[l("div",Ve,[t(s(h),{modelValue:e.value.sexo,"onUpdate:modelValue":o[4]||(o[4]=a=>e.value.sexo=a),name:"pizza",value:"M"},null,8,["modelValue"]),Se]),l("div",Te,[t(s(h),{modelValue:e.value.sexo,"onUpdate:modelValue":o[5]||(o[5]=a=>e.value.sexo=a),name:"pizza",value:"F"},null,8,["modelValue"]),Ue])])])]),t(s(S),{layout:"vertical"}),l("div",Me,[De,l("div",null,[t(s(oe),{modelValue:e.value.estado,"onUpdate:modelValue":o[6]||(o[6]=a=>e.value.estado=a)},null,8,["modelValue"])])])]),l("div",Ge,[l("div",Le,[ke,t(s(m),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.nro_doc,"onUpdate:modelValue":o[7]||(o[7]=a=>e.value.nro_doc=a)},null,8,["modelValue"])]),l("div",Fe,[ze,t(s(m),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.nombres,"onUpdate:modelValue":o[8]||(o[8]=a=>e.value.nombres=a)},null,8,["modelValue"])])]),l("div",Pe,[l("div",$e,[Be,t(s(m),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.primer_apellido,"onUpdate:modelValue":o[9]||(o[9]=a=>e.value.primer_apellido=a)},null,8,["modelValue"])]),l("div",je,[Ye,t(s(m),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.segundo_apellido,"onUpdate:modelValue":o[10]||(o[10]=a=>e.value.segundo_apellido=a)},null,8,["modelValue"])])]),l("div",He,[l("div",Qe,[Ze,t(s(m),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.celular,"onUpdate:modelValue":o[11]||(o[11]=a=>e.value.celular=a)},null,8,["modelValue"])]),l("div",Je,[qe,t(s(m),{style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.correo,"onUpdate:modelValue":o[12]||(o[12]=a=>e.value.correo=a)},null,8,["modelValue"])])]),l("div",Ke,[l("div",We,[Xe,t(s(m),{id:"direccion",style:{width:"100%",height:"40px"},type:"text",modelValue:e.value.direccion,"onUpdate:modelValue":o[13]||(o[13]=a=>e.value.direccion=a)},null,8,["modelValue"])]),l("div",el,[ll,t(s(le),{id:"programa",modelValue:e.value.id_docente,"onUpdate:modelValue":o[14]||(o[14]=a=>e.value.id_docente=a),options:j.value,filter:"",optionLabel:"label",optionValue:"value",placeholder:"Seleccione escuela profesional",style:{width:"100%"},class:"w-full md:w-11rem"},{option:n(a=>[l("div",al,[l("div",null,_(a.option.label),1)])]),_:1},8,["modelValue","options"])])])]),_:1}),t(s(T),{header:"Cursos que puede dictar"},{default:n(()=>[l("div",ol,[l("div",tl,[l("div",sl,[il,l("div",dl,[(r(!0),c(R,null,K($.value,a=>(r(),c("div",{key:a.key,class:"mb-2",style:{"font-size":".9rem"}},[a.value%2===0?(r(),c("div",nl,[t(s(U),{modelValue:p.value,"onUpdate:modelValue":o[15]||(o[15]=I=>p.value=I),inputId:a.key,class:"mr-2",name:"category",value:a.value},null,8,["modelValue","inputId","value"]),l("div",ul,[l("label",{for:a.key},_(a.name),9,rl)])])):(r(),c("div",vl,[t(s(U),{modelValue:p.value,"onUpdate:modelValue":o[16]||(o[16]=I=>p.value=I),inputId:a.key,class:"mr-2",name:"category",value:a.value},null,8,["modelValue","inputId","value"]),l("div",cl,[l("label",{for:a.key},_(a.name),9,ml)])]))]))),128))])])])])]),_:1})]),_:1})])]),_:1},8,["visible"])])]),_:1})],64))}};export{Sl as default};
